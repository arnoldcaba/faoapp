(function(e){function t(t){for(var o,i,s=t[0],l=t[1],c=t[2],d=0,v=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&v.push(r[i][0]),r[i]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);u&&u(t);while(v.length)v.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],o=!0,i=1;i<a.length;i++){var l=a[i];0!==r[l]&&(o=!1)}o&&(n.splice(t--,1),e=s(s.s=a[0]))}return e}var o={},r={app:0},n=[];function i(e){return s.p+"js/"+({about:"about"}[e]||e)+"."+{about:"5c197626"}[e]+".js"}function s(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.e=function(e){var t=[],a=r[e];if(0!==a)if(a)t.push(a[2]);else{var o=new Promise((function(t,o){a=r[e]=[t,o]}));t.push(a[2]=o);var n,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=i(e);var c=new Error;n=function(t){l.onerror=l.onload=null,clearTimeout(d);var a=r[e];if(0!==a){if(a){var o=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+o+": "+n+")",c.name="ChunkLoadError",c.type=o,c.request=n,a[1](c)}r[e]=void 0}};var d=setTimeout((function(){n({type:"timeout",target:l})}),12e4);l.onerror=l.onload=n,document.head.appendChild(l)}return Promise.all(t)},s.m=e,s.c=o,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(a,o,function(t){return e[t]}.bind(null,o));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var u=c;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0c8c":function(e,t,a){"use strict";a("5a06")},"11f2":function(e,t,a){"use strict";a("4ba2")},"268c":function(e,t,a){"use strict";a("ae8f")},"48c4":function(e,t,a){"use strict";a("beb5")},"4ba2":function(e,t,a){},"54ad":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("96cf");var o=a("1da1"),r=(a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("2b0e")),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-main",["/inicio"!=e.$route.path?a("menuApp"):e._e(),a("offlineAlert"),a("v-container",[a("router-view")],1),"/inicio"!=e.$route.path?a("footerApp"):e._e()],1),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[e._v(" "+e._s(e.loadingMSG)+" "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1)},i=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"overflow-hidden mb-5"},[a("v-app-bar",{attrs:{absolute:"",dark:"",color:"primary","elevate-on-scroll":"","scroll-target":"#scrolling-techniques-7"}},[a("v-app-bar-nav-icon",{on:{click:function(t){e.drawer=!0}}}),a("v-toolbar-title",[e._v(e._s(e.currentRouteName))]),a("v-spacer"),a("v-offline",{on:{"detected-condition":e.amIOnline}},[a("div",{attrs:{slot:"online"},slot:"online"},[e.onLine?a("v-btn",{attrs:{icon:""}},[a("v-icon",[e._v("mdi-wifi-strength-outline")])],1):e._e(),e.onLine?e._e():a("v-btn",{attrs:{icon:""}},[a("v-icon",[e._v("mdi-wifi-strength-off-outline")])],1)],1),a("div",{attrs:{slot:"offline"},slot:"offline"})])],1),a("v-navigation-drawer",{attrs:{absolute:"",temporary:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("v-list",{attrs:{nav:"",dense:""}},[a("v-list-item",{class:e.miniVariant&&"px-0",attrs:{"two-line":""}},[a("v-list-item-avatar",[a("v-icon",{attrs:{size:"50"}},[e._v("mdi-account-circle")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(this.$session.get("usuario")))]),a("v-list-item-subtitle",[e._v(e._s(this.$session.get("email")))])],1)],1),a("v-divider"),a("v-list-item-group",{attrs:{"active-class":"blue--text text--accent-4"},model:{value:e.group,callback:function(t){e.group=t},expression:"group"}},[a("v-list-item",{on:{click:function(t){return e.$router.push("/logout")}}},[a("v-list-item-icon",[a("v-icon",[e._v("mdi-logout-variant")])],1),a("v-list-item-title",[e._v("Cerrar sesión")])],1),a("v-list-item",{on:{click:function(t){return e.routeHome()}}},[a("v-list-item-icon",[a("v-icon",[e._v("mdi-home")])],1),a("v-list-item-title",[e._v("Home")])],1),a("v-list-item",{on:{click:function(t){return e.routeUser()}}},[a("v-list-item-icon",[a("v-icon",[e._v("mdi-account-cog")])],1),a("v-list-item-title",[e._v("Datos de usuario")])],1),a("v-list-item",{on:{click:function(t){return e.routeNewEvento()}}},[a("v-list-item-icon",[a("v-icon",[e._v("mdi-shape-square-rounded-plus")])],1),a("v-list-item-title",[e._v("Nuevo evento")])],1)],1)],1)],1)],1)},l=[],c=(a("b0c0"),a("05fb")),d={name:"menuApp",components:{VOffline:c["a"]},data:function(){return{drawer:!1,group:null,miniVariant:!1,onLine:!0,loading:!0}},created:function(){},methods:{amIOnline:function(e){this.onLine=e},routeHome:function(){"listadoEventos"!==this.$route.name&&this.$router.push("/home")},routeUser:function(){"editarUsuario"!==this.$route.name&&this.$router.push("/updateUser")},routeNewEvento:function(){"nuevoEvento"!==this.$route.name&&(console.log("acá"),this.$router.push("/newEvento"))}},computed:{currentRouteName:function(){for(var e=this.$route.name,t="",a=0,o=0,r=0;r<=e.length;r++){var n=e.charAt(r);n===n.toUpperCase()&&(o=r,t=t+" "+e.substring(a,o),a=o)}return t.toUpperCase()}}},u=d,v=a("2877"),p=Object(v["a"])(u,s,l,!1,null,null,null),m=p.exports,f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"mt-5"},[a("v-footer",e._b({staticClass:"mt-5",attrs:{padless:e.padless,elevation:"2"}},"v-footer",e.localAttrs,!1),[a("v-card",{staticClass:"blue darken-2 text-center",attrs:{flat:"",tile:"",width:"100%"}},[a("v-card-text",[a("v-row",{attrs:{justify:"center"}},[a("v-img",{attrs:{"max-height":"50","max-width":"50",src:"fao_logo_white.png"}})],1)],1)],1)],1)],1)},b=[],h={data:function(){return{icons:["mdi-home","mdi-email","mdi-calendar","mdi-delete"],padless:!0,variant:"fixed"}},computed:{localAttrs:function(){var e={};return"default"===this.variant?(e.absolute=!1,e.fixed=!1):e[this.variant]=!0,e}}},g=h,x=Object(v["a"])(g,f,b,!1,null,null,null),k=x.exports,_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("offlineAlert",{on:{"detected-condition":e.amIOnline}},[a("div",{attrs:{slot:"online"},slot:"online"},[a("v-snackbar",{scopedSlots:e._u([{key:"action",fn:function(t){var o=t.attrs;return[a("v-btn",e._b({attrs:{color:e.colorAlert,text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",o,!1),[e._v(" Cerrar ")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e.statusOnline?a("p",[a("v-icon",[e._v("mdi-wifi-strength-outline")]),e._v(" Aplicación Online")],1):e._e(),e.statusOnline?e._e():a("p",[a("v-icon",[e._v("mdi-wifi-strength-off-outline")]),e._v(" Aplicación Offline")],1)])],1),a("div",{attrs:{slot:"offline"},slot:"offline"})])},w=[],E={components:{offlineAlert:c["a"]},data:function(){return{statusOnline:null,snackbar:!0,colorAlert:"indigo"}},methods:{amIOnline:function(e){this.statusOnline=e,this.colorAlert=e?"indigo":"pink"}}},y=E,P=Object(v["a"])(y,_,w,!1,null,null,null),$=P.exports,C={components:{menuApp:m,footerApp:k,offlineAlert:$},name:"App",data:function(){return{dialog:!1,loadingMSG:"",user:""}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$root.$on("mainLoading",(function(t){e.loadingMSG=t,e.dialog=!e.dialog})),e.$root.$on("logged",Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$session.getAll();case 2:e.user=t.sent;case 3:case"end":return t.stop()}}),t)})))),t.next=4,e.$session.getAll();case 4:e.user=t.sent;case 5:case"end":return t.stop()}}),t)})))()}},S=C,A=Object(v["a"])(S,n,i,!1,null,null,null),j=A.exports,D=a("9483");console.log("production"),Object(D["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});a("caad"),a("d3b7");var O=a("8c4f"),R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("v-container",{staticClass:"mt-5"},[a("br"),a("eventos")],1)],1)},F=[],M=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.eventos,"items-per-page":5,loading:e.loading,search:e.filtro},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-layout",{attrs:{"align-center":"","pa-2":""}},[a("v-spacer"),a("v-col",[a("v-text-field",{attrs:{label:"Filtrar",outlined:"",dense:"","hide-details":"","prepend-icon":"mdi-filter"},model:{value:e.filtro,callback:function(t){e.filtro=t},expression:"filtro"}})],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var o=t.item;return[a("v-icon",{staticClass:"mr-1",attrs:{small:"",color:"primary",title:"Ver evento"},on:{click:function(t){return e.verEvento(o)}}},[e._v(" mdi-eye ")]),a("v-icon",{staticClass:"mr-1",attrs:{small:"",color:"primary",title:"Ver seguimiento"},on:{click:function(t){return e.seguimiento(o)}}},[e._v(" mdi-notebook ")]),a("v-icon",{staticClass:"mr-1",attrs:{small:"",color:"primary",title:"Generar informes"},on:{click:function(t){return e.generarInformesEvento(o)}}},[e._v(" mdi-chart-areaspline ")])]}}])})],1)},I=[],z=a("bc3a"),q=a.n(z),N={loggin:function(e){return q.a.post("login",e)},createUser:function(e){return q.a.post("createUser",e)},updateUser:function(e){return q.a.post("updateUser",e)},storeSolicitud:function(e){return q.a.post("solicitud",e)},getSolicitudes:function(){return q.a.get("solicitudes")},approve:function(e){return q.a.post("approve",e)},reject:function(e){return q.a.post("reject",e)},getUsers:function(){return q.a.get("users")},editUser:function(e){return q.a.put("user",e)},changePassword:function(e){return q.a.post("changePassword",e)},recoverPassword:function(e){return q.a.post("recoverPassword",e)}},U={getEventos:function(){return q.a.get("getEventos")}},L={getDataProductor:function(e){return q.a.get("dataProductor",e)},getDataMapa:function(e){return q.a.get("dataMapa",e)},getDataEvent:function(e){return q.a.get("dataEvento",e)},getDataEventSpecie:function(e){return q.a.get("dataEventoEspecie",e)},setDataEvento:function(e){return q.a.post("guardarEvento",e)}},V={getSeguimiento:function(e){return q.a.post("getSeguimiento",e)},setSeguimiento:function(e){return q.a.post("guardarSeguimiento",e,{headers:{"Content-Type":"multipart/form-data"}})},getAdjunto:function(e){return q.a.post("getAdjunto",e,{responseType:"blob"})}},T={setDataInformesEvento:function(e){return q.a.post("setDataInformesEvento",e)}},H=a("1232"),G={name:"eventos",data:function(){return{headers:[{text:"N°",align:"center",value:"cod_evento"},{text:"Tipo Evento",align:"center",value:"tipo_evento"},{text:"Fecha registro",align:"center",value:"fecha_registro_evento"},{text:"Ubicación",align:"center",value:"descrip_llegada_casco_urbano"},{text:"Actions",value:"actions",sortable:!1}],eventos:[],loading:!1,filtro:"",desserts:[],editedIndex:-1,editedItem:{}}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getEventos();case 2:case"end":return t.stop()}}),t)})))()},methods:{getEventos:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,o,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,U.getEventos();case 4:a=t.sent,200===a.status&&(o=a.data.token,r=Object(H["a"])(o),n=r.eventos,console.log(n),e.loading=!1,e.eventos=n.eventos),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.log(t.t0);case 11:e.loading=!1;case 12:case"end":return t.stop()}}),t,null,[[1,8]])})))()},verEvento:function(e){this.$router.push({name:"actualizarEevento",params:{evento:e}})},seguimiento:function(e){this.$router.push({name:"seguimiento",params:{evento:e}})},generarInformesEvento:function(e){this.$router.push({name:"informesEvento",params:{evento:e}})}},computed:{}},J=G,X=(a("0c8c"),Object(v["a"])(J,M,I,!1,null,"bedf8148",null)),Y=X.exports,W={components:{eventos:Y},name:"Home"},K=W,B=Object(v["a"])(K,R,F,!1,null,null,null),Q=B.exports,Z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-row",{staticClass:"inicio",staticStyle:{height:"100vh","background-color":"white"},attrs:{"no-gutters":"",justify:"center",align:"center"}},[a("v-col",{staticClass:"px-5",attrs:{lg:"3",md:"4",xs:"12","align-self":"center"}},["login"===e.tipo?a("login",{on:{register:function(t){e.tipo="registro"},recover:function(t){e.tipo="recover"}}}):e._e(),"registro"===e.tipo?a("registro",{attrs:{updateUser:!1},on:{login:function(t){e.tipo="login"}}}):e._e(),"recover"===e.tipo?a("recPassword",{on:{login:function(t){e.tipo="login"}}}):e._e()],1)],1)],1)},ee=[],te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-row",{attrs:{justify:"center"}},[a("v-img",{attrs:{"max-height":"80","max-width":"80",src:"fao_logo_blue.png"}})],1),a("br"),a("v-card",{attrs:{flat:"",elevation:"4"}},[a("v-card-title",{staticStyle:{display:"inline","text-align":"center"}}),a("v-card-text",[a("div",{staticClass:"font-weight-light"},[e._v(" LOGIN")]),a("v-text-field",{attrs:{placeholder:"Email",outlined:"",dense:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("v-text-field",{attrs:{placeholder:"Contraseña",outlined:"",dense:"",type:e.show1?"text":"password","append-icon":e.show1?"mdi-eye":"mdi-eye-off"},on:{"click:append":function(t){e.show1=!e.show1}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("p",[e._v("Olvidates tu constraseña? click "),a("v-btn",{staticStyle:{padding:"2px"},attrs:{color:"primary",text:"",small:""},on:{click:function(t){return e.$emit("recover")}}},[e._v("aquí")])],1),a("v-btn",{staticStyle:{width:"100%"},attrs:{color:"primary"},on:{click:e.login}},[e._v("Iniciar")]),a("v-row",{staticClass:"my-3",attrs:{"no-gutters":"",align:"center"}},[a("v-divider"),a("div",{staticClass:"mx-3"},[e._v("o")]),a("v-divider")],1),a("v-btn",{staticStyle:{width:"100%"},attrs:{color:"secondary"},on:{click:function(t){return e.$emit("register")}}},[e._v("Registrarse")])],1)],1)],1)},ae=[],oe={data:function(){return{email:"",password:"",show1:!1}},methods:{login:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,o,r,n,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.email,o=e.password,e.$root.$emit("mainLoading","Loading..."),t.prev=3,t.next=6,N.loggin({email:a,password:o});case 6:r=t.sent,console.log(r),200===r.status&&(n=r.data.token,i=Object(H["a"])(n),s=i.userobj,console.log(s),e.$session.start(),e.$session.set("usuario",s.usuario),e.$session.set("email",s.email),e.$session.set("activo",s.activo),e.$session.set("token",n),localStorage.setItem("dataUser",JSON.stringify(s)),e.$root.$emit("logged"),e.$router.push("/home")),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](3),console.log(t.t0),e.$toasted.error("Credenciales incorrectas",{duration:4e3});case 15:e.$root.$emit("mainLoading","Loading...");case 16:case"end":return t.stop()}}),t,null,[[3,11]])})))()}}},re=oe,ne=(a("791a"),Object(v["a"])(re,te,ae,!1,null,"39eef636",null)),ie=ne.exports,se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",{attrs:{flat:""}},[a("v-card-title",{staticStyle:{display:"inline","text-align":"center"}},[a("v-banner",[e.updateUser?e._e():a("v-icon",{attrs:{size:"80",color:"blue darken-2"}},[e._v(" mdi-account-circle ")]),e.updateUser?a("v-icon",{attrs:{size:"80",color:"blue darken-2"}},[e._v(" mdi-account-edit ")]):e._e()],1)],1),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-container",[a("v-row",{attrs:{"no-gutters":e.width}},[a("v-col",{attrs:{cols:"12",md:e.col}},[a("v-text-field",{attrs:{label:"Nombres",outlined:"",dense:"",rules:e.nameRules,maxlength:"100",required:""},model:{value:e.firstName,callback:function(t){e.firstName=t},expression:"firstName"}})],1),a("v-col",{attrs:{cols:"12",md:e.col}},[a("v-text-field",{attrs:{label:"Apellidos",outlined:"",dense:"",rules:e.nameRules,maxlength:"100",required:""},model:{value:e.lastName,callback:function(t){e.lastName=t},expression:"lastName"}})],1),a("v-col",{attrs:{cols:"12",md:e.col}},[a("v-text-field",{attrs:{label:"No.Documento",outlined:"",dense:"",rules:e.documentRules,maxlength:"10",required:"",onkeypress:"return (event.charCode >= 48 && event.charCode <= 57)"},model:{value:e.numDocument,callback:function(t){e.numDocument=t},expression:"numDocument"}})],1),a("v-col",{attrs:{cols:"12",md:e.col}},[a("v-select",{attrs:{label:"Tipo Documento",items:e.typeDocuments,"item-value":"valor","item-text":"text",rules:e.generalRules,outlined:"",dense:"",filled:""},model:{value:e.typeDocument,callback:function(t){e.typeDocument=t},expression:"typeDocument"}})],1),a("v-col",{attrs:{cols:"12",md:e.col}},[a("v-text-field",{attrs:{label:"Institución",outlined:"",dense:"",rules:e.generalRules,maxlength:"100",required:""},model:{value:e.institution,callback:function(t){e.institution=t},expression:"institution"}})],1),a("v-col",{attrs:{cols:"12",md:e.col}},[a("v-text-field",{attrs:{label:"Cargo",outlined:"",dense:"",rules:e.generalRules,maxlength:"100",required:""},model:{value:e.workCenter,callback:function(t){e.workCenter=t},expression:"workCenter"}})],1),a("v-col",{attrs:{cols:"12",md:e.col}},[a("v-text-field",{attrs:{label:"Usuario",outlined:"",dense:"",rules:e.usuarioRules,required:""},model:{value:e.usuario,callback:function(t){e.usuario=t},expression:"usuario"}})],1),a("v-col",{attrs:{cols:"12",md:e.col}},[a("v-text-field",{attrs:{label:"Email",outlined:"",dense:"",rules:e.emailRules,required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),a("v-col",{attrs:{cols:"12",md:e.col}},[a("v-text-field",{attrs:{label:"Contraseña",outlined:"",type:"password",dense:"",rules:e.passwordRules,required:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),a("v-col",{attrs:{cols:"12",md:e.col}},[a("v-text-field",{attrs:{label:"Confirmar Contraseña",outlined:"",type:"password",dense:"",rules:e.passwordRules,required:""},model:{value:e.checkPassword,callback:function(t){e.checkPassword=t},expression:"checkPassword"}})],1),e.updateUser?a("v-btn",{staticStyle:{width:"100%"},attrs:{color:"error"},on:{click:e.update}},[e._v("Actualizar")]):e._e(),e.updateUser?e._e():a("v-btn",{staticStyle:{width:"100%"},attrs:{color:"error"},on:{click:e.submit}},[e._v("Registrar")]),e.updateUser?e._e():a("v-row",{staticClass:"my-3",attrs:{"no-gutters":"",align:"center"}},[a("v-divider"),a("div",{staticClass:"mx-3"},[e._v("o")]),a("v-divider"),a("v-btn",{staticStyle:{width:"100%"},attrs:{color:"primary"},on:{click:function(t){return e.$emit("login")}}},[e._v("volver")])],1)],1)],1)],1)],1)],1)],1)},le=[],ce={props:["updateUser"],data:function(){return{valid:!0,firstName:"",lastName:"",numDocument:"",email:"",usuario:"",password:"",checkPassword:"",moderador:!1,comentario:"",typeDocuments:[{text:"Tarjeta de identidad",valor:"1"},{text:"Cédula de Ciudadanía",valor:"2"},{text:"Cédula de Extranjería",valor:"3"},{text:"Pasaporte",valor:"4"},{text:"Adulto sin identificación",valor:"5"},{text:"Index",valor:"6"}],typeDocument:"",institution:"",workCenter:"",nameRules:[function(e){return!!e||"Campo obligatorio"},function(e){return e&&e.length<=100||"No más de 100 caracteres"},function(e){return e&&e.length>=3||"No menos de 3 caracteres"}],documentRules:[function(e){return!!e||"El número de documento es requerido"},function(e){return e&&e.length<=10||"No más de 10 caracteres"},function(e){return e&&e.length>=10||"No menos de 10 caracteres"}],usuarioRules:[function(e){return!!e||"Campo obligatorio"},function(e){return e&&e.length<=50||"No más de 50 caracteres"}],emailRules:[function(e){return!!e||"Campo obligatorio"},function(e){return/.+@.+\..+/.test(e)||"E-mail no es valido"}],passwordRules:[function(e){return!!e||"Campo obligatorio"},function(e){return e&&e.length<=15||"No más de 15 caracteres"}],generalRules:[function(e){return!!e||"Campo obligatorio"},function(e){return e&&e.length<100||"No más de 100 caracteres"}]}},computed:{width:function(){if(!1===this.updateUser)return!0;var e;switch(this.$vuetify.breakpoint.name){case"xs":e=!0;break;case"sm":e=!0;break;case"md":e=!1;break;case"lg":e=!1;break;case"xl":e=!1;break}return e},col:function(){return!0===this.updateUser?4:12}},mounted:function(){return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},created:function(){if(!0===this.updateUser){var e=JSON.parse(localStorage.getItem("dataUser"));this.firstName=e.nombre,this.lastName=e.apellido,this.numDocument=e.nuDocumento,this.typeDocument={text:""+e.nombreDocumento,valor:""+e.idDocumento},this.email=e.email,this.usuario=e.usuario,this.institution=e.institucion,this.workCenter=e.cargo}},methods:{data:function(){var e=this.firstName,t=this.lastName,a=this.numDocument,o=this.email,r=this.usuario,n=this.password,i="S",s=this.checkPassword,l=this.moderador,c=this.country,d=this.comentario,u=this.typeDocument,v=this.institution,p=this.workCenter,m={firstName:e,lastName:t,numDocument:a,email:o,usuario:r,password:n,pascheckPasswordsword:s,active:i,moderador:l,country:c,comentario:d,typeDocument:u,institution:v,workCenter:p};return m},submit:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,o,r,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$refs.form.validate()){t.next=17;break}if(a=e.data(),a.password===a.pascheckPasswordsword){t.next=5;break}return e.$toasted.error("Verifique su contraseña.",{duration:5e3}),t.abrupt("return");case 5:return t.prev=5,t.next=8,N.createUser({obj:a});case 8:o=t.sent,200===o.status&&(r=o.data.token,n=Object(H["a"])(r),i=n.userobj,e.$session.start(),e.$session.set("usuario",i.usuario),e.$session.set("email",i.email),e.$session.set("activo",i.activo),e.$session.set("token",r),localStorage.setItem("dataUser",JSON.stringify(i)),e.$root.$emit("logged"),e.$router.push("/home"),e.$toasted.success("Solicitud recibida",{duration:5e3})),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](5),e.$toasted.error(t.t0.response.data.message,{duration:5e3});case 15:t.next=18;break;case 17:console.log("Errores en formulario");case 18:case"end":return t.stop()}}),t,null,[[5,12]])})))()},update:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,o,r,n,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$refs.form.validate()){t.next=20;break}if(a=e.data(),a.password===a.pascheckPasswordsword){t.next=5;break}return e.$toasted.error("Verifique su contraseña.",{duration:5e3}),t.abrupt("return");case 5:return o=JSON.parse(localStorage.getItem("dataUser")),a.idUser=o.id,t.prev=7,t.next=10,N.updateUser({obj:a});case 10:r=t.sent,console.log(r),200===r.status&&(n=r.data.token,i=Object(H["a"])(n),s=i.userobj,e.$session.set("usuario",s.usuario),e.$session.set("email",s.email),e.$session.set("activo",s.activo),localStorage.setItem("dataUser",JSON.stringify(s)),e.$toasted.success("Solicitud recibida",{duration:5e3})),t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](7),e.$toasted.error("No se logró enviar la solicitud",{duration:5e3});case 18:t.next=21;break;case 20:console.log("Errores en formulario");case 21:case"end":return t.stop()}}),t,null,[[7,15]])})))()}}},de=ce,ue=(a("11f2"),Object(v["a"])(de,se,le,!1,null,"cacea62c",null)),ve=ue.exports,pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",{attrs:{flat:""}},[a("v-card-title",[e._v("Recuperar contraseña")]),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{label:"Email",outlined:"",dense:"",rules:e.emailRules,required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("v-row",{attrs:{justify:"end","no-gutters":""}},[a("v-btn",{attrs:{text:"",small:"",color:"primary"},on:{click:function(t){return e.$emit("login")}}},[e._v("Volver")]),a("v-btn",{attrs:{small:"",color:"primary"},on:{click:e.recoverPassword}},[e._v("Recueprar")])],1)],1)],1)],1)],1)},me=[],fe={data:function(){return{valid:!0,email:"",emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+\..+/.test(e)||"E-mail not valid"}]}},methods:{recoverPassword:function(){return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}}},be=fe,he=Object(v["a"])(be,pe,me,!1,null,null,null),ge=he.exports,xe={components:{login:ie,registro:ve,recPassword:ge},data:function(){return{tipo:"login"}},computed:{medida:function(){return"registro"===this.tipo?{lg:4,offsetlg:4,md:4,offsetmd:4}:["login","recover"].includes(this.tipo)?{lg:6,md:4,offsetmd:4}:{}},height:function(){switch(this.$vuetify.breakpoint.name){case"xs":return 220;case"sm":return 400;case"md":return 500;case"lg":return 600;case"xl":return 800}return 1200}}},ke=xe,_e=(a("48c4"),Object(v["a"])(ke,Z,ee,!1,null,"06e31479",null)),we=_e.exports,Ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{staticClass:"mt-5"},[a("v-btn",{staticClass:"mt-5",attrs:{color:"error",title:"Guardar Evento",block:""},on:{click:function(t){return e.guardarEvento()}}},[e._v(" Guardar evento ")]),a("v-progress-linear",{staticClass:"mt-1",attrs:{active:e.loading,indeterminate:e.loading,color:"green accent-4",rounded:"",height:"6"}}),a("v-stepper",{staticStyle:{"box-shadow":"none !important"},attrs:{vertical:"","non-linear":""},model:{value:e.e6,callback:function(t){e.e6=t},expression:"e6"}},[a("v-stepper-step",{attrs:{complete:e.e6>1,step:"1",editable:""}},[e._v(" Información del productor ")]),a("v-stepper-content",{attrs:{step:"1"}},[a("dataProveedor",{attrs:{obtenerData:e.onResultadosProductor}})],1),a("v-stepper-step",{attrs:{complete:e.e6>2,step:"2",editable:""}},[e._v(" Ubicación del evento ")]),a("v-stepper-content",{attrs:{step:"2"}},[a("v-container",{},[a("mapaEvento",{attrs:{obtenerDataMapa:e.onResultadosMapa}})],1)],1),a("v-stepper-step",{attrs:{complete:e.e6>3,editable:"",step:"3"}},[e._v(" Detalle del evento ")]),a("v-stepper-content",{attrs:{step:"3"}},[a("v-container",{ref:"formEvent"},[a("v-row",{attrs:{"no-gutters":e.width}},[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{label:"Tipo de evento",items:e.tiposEvento,"item-value":"valor",dense:"",outlined:"",filled:"",rules:e.rulesEventGeneral,required:""},on:{change:function(t){return e.cargarSubEventoSegunEvento()}},model:{value:e.selEvento.tipoEv,callback:function(t){e.$set(e.selEvento,"tipoEv",t)},expression:"selEvento.tipoEv"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{label:"Tipo de subevento",items:e.relEventoSubEvento,"item-value":"valor",dense:"",outlined:"",filled:"",rules:e.rulesEventGeneral,required:""},model:{value:e.selEvento.subEv,callback:function(t){e.$set(e.selEvento,"subEv",t)},expression:"selEvento.subEv"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{label:"Sistema productivo afectado",items:e.sisProds,"item-value":"valor","item-text":"text",dense:"",outlined:"",multiple:"",filled:"",rules:e.rulesEventGeneral,required:""},model:{value:e.selEvento.sisProds,callback:function(t){e.$set(e.selEvento,"sisProds",t)},expression:"selEvento.sisProds"}})],1)],1)],1),e.contForestal?a("especies",{attrs:{obtenerDataEspecie:e.onResultadosEspecie}}):e._e()],1)],1)],1)],1)},ye=[],Pe=(a("4de4"),a("c740"),a("a434"),a("b64b"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",[a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[a("v-btn",e._g(e._b({attrs:{color:"primary",title:"Agregar un nuevo productor"}},"v-btn",r,!1),o),[e._v(" Agregar productor ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.dialog=!1}}},[a("v-icon",[e._v("mdi-close")])],1),a("v-toolbar-title",[e._v("Productor")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{dark:"",text:""},on:{click:e.addProductor}},[e._v(" Agregar ")])],1)],1),a("br"),a("br"),a("br"),a("v-container",[a("v-row",{attrs:{"no-gutters":e.width}},[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{label:"Condición juridica del productor",items:e.condJuridicas,"item-value":"valor",dense:"",outlined:"",filled:""},model:{value:e.infoProveedor.condJuridica,callback:function(t){e.$set(e.infoProveedor,"condJuridica",t)},expression:"infoProveedor.condJuridica"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:e.esEmpresa?"Nombre de la personería jurídica":"Nombres y apellidos",dense:"",outlined:"",filled:""},model:{value:e.infoProveedor.nombre,callback:function(t){e.$set(e.infoProveedor,"nombre",t)},expression:"infoProveedor.nombre"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{label:"Tipo documento",items:e.compTipoDcto,"item-value":"valor",dense:"",outlined:"",filled:""},model:{value:e.infoProveedor.tipoDcto,callback:function(t){e.$set(e.infoProveedor,"tipoDcto",t)},expression:"infoProveedor.tipoDcto"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Documento",dense:"",outlined:"",filled:""},model:{value:e.infoProveedor.dcto,callback:function(t){e.$set(e.infoProveedor,"dcto",t)},expression:"infoProveedor.dcto"}})],1),e.esEmpresa?a("v-row",{staticClass:"mt-0",attrs:{"no-gutters":e.width}},[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-select",{attrs:{label:"Tipo de productor",items:e.tiposProd,"item-value":"valor",dense:"",outlined:"",filled:""},model:{value:e.infoProveedor.tipoProd,callback:function(t){e.$set(e.infoProveedor,"tipoProd",t)},expression:"infoProveedor.tipoProd"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-select",{attrs:{label:"Tipo de relación con el predio",items:e.tiposRelPre,"item-value":"valor",dense:"",filled:"",outlined:""},model:{value:e.infoProveedor.relPre,callback:function(t){e.$set(e.infoProveedor,"relPre",t)},expression:"infoProveedor.relPre"}})],1)],1):e._e(),a("v-col",{attrs:{cols:"12",md:"4"}},[e.esEmpresa?e._e():a("v-text-field",{attrs:{label:"Direccion residencia",dense:"",outlined:"",filled:""},model:{value:e.infoProveedor.dirRes,callback:function(t){e.$set(e.infoProveedor,"dirRes",t)},expression:"infoProveedor.dirRes"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[e.esEmpresa?e._e():a("v-text-field",{attrs:{label:"Numero telefonico",dense:"",outlined:"",filled:""},model:{value:e.infoProveedor.tel,callback:function(t){e.$set(e.infoProveedor,"tel",t)},expression:"infoProveedor.tel"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[e.esEmpresa?e._e():a("v-select",{attrs:{label:"sexo",items:e.listSexo,"item-value":"valor",dense:"",outlined:"",filled:""},model:{value:e.infoProveedor.sexo,callback:function(t){e.$set(e.infoProveedor,"sexo",t)},expression:"infoProveedor.sexo"}})],1),e.esEmpresa?e._e():a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",e._g(e._b({attrs:{label:"Fecha nacimiento",readonly:"",outlined:"",dense:"",filled:""},model:{value:e.infoProveedor.fechaNac,callback:function(t){e.$set(e.infoProveedor,"fechaNac",t)},expression:"infoProveedor.fechaNac"}},"v-text-field",r,!1),o))],1)]}}],null,!1,704988553),model:{value:e.mfnac,callback:function(t){e.mfnac=t},expression:"mfnac"}},[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-date-picker",{attrs:{outlined:""},on:{input:function(t){e.mfnac=!1}},model:{value:e.infoProveedor.fechaNac,callback:function(t){e.$set(e.infoProveedor,"fechaNac",t)},expression:"infoProveedor.fechaNac"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"4"}},[e.esEmpresa?e._e():a("v-select",{attrs:{label:"Grupo étnico",items:e.gruposEtnicos,"item-value":"valor",dense:"",filled:"",outlined:""},model:{value:e.infoProveedor.gEtnico,callback:function(t){e.$set(e.infoProveedor,"gEtnico",t)},expression:"infoProveedor.gEtnico"}})],1)],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.productoresHeaders,items:e.productores,expanded:e.expanded,"single-expand":"","item-key":"nombre","show-expand":""},on:{"update:expanded":function(t){e.expanded=t}},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title")],1)]},proxy:!0},{key:"item.actions",fn:function(t){var o=t.item;return[a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteProductor(o)}}},[e._v(" mdi-delete ")])]}},{key:"expanded-item",fn:function(t){var o=t.headers,r=t.item;return[a("td",{attrs:{colspan:o.length}},[a("v-row",{attrs:{"no-gutters":e.width}},[a("v-col",{attrs:{cols:"12",md:"4"}},[a("b",[e._v("Tip.Document:")]),e._v(" "+e._s(r.tipoDcto)+" ")]),a("v-col",{attrs:{cols:"12",md:"4"}},[a("b",[e._v("Documento:")]),e._v(" "+e._s(r.dcto)+" ")]),a("v-col",{attrs:{cols:"12",md:"4"}},[a("b",[e._v("Tip.Productor:")]),e._v(" "+e._s(r.tipoProd)+" ")]),a("v-col",{attrs:{cols:"12",md:"4"}},[a("b",[e._v("Relacion Predio:")]),e._v(" "+e._s(r.relPre)+" ")]),a("v-col",{attrs:{cols:"12",md:"4"}},[a("b",[e._v("Dirección:")]),e._v(" "+e._s(r.dirRes)+" ")]),a("v-col",{attrs:{cols:"12",md:"4"}},[a("b",[e._v("Telefono:")]),e._v(" "+e._s(r.tel)+" ")]),a("v-col",{attrs:{cols:"12",md:"4"}},[a("b",[e._v("Sexo:")]),e._v(" "+e._s(r.sexo)+" ")]),a("v-col",{attrs:{cols:"12",md:"4"}},[a("b",[e._v("Nacimiento:")]),e._v(" "+e._s(r.fechaNac)+" ")]),a("v-col",{attrs:{cols:"12",md:"4"}},[a("b",[e._v("Grupo Etnico:")]),e._v(" "+e._s(r.gEtnico)+" ")])],1)],1)]}}])})],1)],1)}),$e=[],Ce=(a("c975"),a("4fad"),{name:"dataProductor",props:["obtenerData"],data:function(){return{e6:3,tab:0,mfnac:!1,infoProveedor:{},condJuridicas:[],tiposDcto:[],listSexo:[],gruposEtnicos:[],tiposProd:[],tiposRelPre:[],dialog:!1,notifications:!1,sound:!0,widgets:!1,expanded:[],productoresHeaders:[{text:"Productor",align:"start",sortable:!1,value:"nombre"},{text:"Eliminar",value:"actions",sortable:!1,width:"2%"},{text:"Ver más",value:"data-table-expand",width:"2%"}],productores:[]}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getDataProductor();case 2:case"end":return t.stop()}}),t)})))()},computed:{width:function(){var e;switch(this.$vuetify.breakpoint.name){case"xs":e=!0;break;case"sm":e=!0;break;case"md":e=!1;break;case"lg":e=!1;break;case"xl":e=!1;break}return e},esEmpresa:function(){return 2===this.infoProveedor.condJuridica},compTipoDcto:function(){return this.esEmpresa?this.tiposDcto.filter((function(e){return"juridica"===e.persona})):this.tiposDcto.filter((function(e){return"natural"===e.persona}))}},methods:{addProductor:function(){this.dialog=!1,0!==Object.entries(this.infoProveedor).length&&(this.productores.push(this.infoProveedor),this.infoProveedor={},this.obtenerData(this.productores))},deleteProductor:function(e){console.log(e);var t=this.productores.indexOf(e);this.productores.splice(t,1),this.obtenerData(this.productores)},getDataProductor:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,o,r,n,i,s,l,c,d,u,v,p,m,f,b,h;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L.getDataProductor();case 3:if(a=t.sent,200===a.status){for(i in o=a.data.token,r=Object(H["a"])(o),n=r.data,n.tiposDocumento)s={valor:n.tiposDocumento[i][0],text:n.tiposDocumento[i][1],persona:n.tiposDocumento[i][2]},e.tiposDcto.push(s);for(l in n.condicionJuridica)c={valor:n.condicionJuridica[l][0],text:n.condicionJuridica[l][1]},e.condJuridicas.push(c);for(d in n.sexo)u={valor:n.sexo[d][0],text:n.sexo[d][1]},e.listSexo.push(u);for(v in n.gruposEtnicos)p={valor:n.gruposEtnicos[v][0],text:n.gruposEtnicos[v][1]},e.gruposEtnicos.push(p);for(m in n.tipoProductor)f={valor:n.tipoProductor[m][0],text:n.tipoProductor[m][1]},e.tiposProd.push(f);for(b in n.tipoRelacionPredio)h={valor:n.tipoRelacionPredio[b][0],text:n.tipoRelacionPredio[b][1]},e.tiposRelPre.push(h)}t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}}}),Se=Ce,Ae=Object(v["a"])(Se,Pe,$e,!1,null,null,null),je=Ae.exports,De=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",[a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[a("v-btn",e._g(e._b({attrs:{color:"primary",title:"Agregar un nuevo evento"}},"v-btn",r,!1),o),[e._v(" Agregar especie ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.dialog=!1}}},[a("v-icon",[e._v("mdi-close")])],1),a("v-toolbar-title",[e._v("Especies")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{dark:"",text:""},on:{click:e.addEspecie}},[e._v(" Agregar ")])],1)],1),a("v-container",[a("v-row",{attrs:{"no-gutters":e.width}},[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{label:"Fase productiva",items:e.fasesProd,"item-value":"valor","item-text":"text",dense:"",outlined:"",filled:""},model:{value:e.esp.faseProd,callback:function(t){e.$set(e.esp,"faseProd",t)},expression:"esp.faseProd"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{label:"Especie forestal afectada",items:e.espForestales,"item-value":"valor","item-text":"text",dense:"",outlined:"",filled:""},model:{value:e.esp.espAfectada,callback:function(t){e.$set(e.esp,"espAfectada",t)},expression:"esp.espAfectada"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{label:"Especie extractiva",items:e.espExtractivas,"item-value":"valor","item-text":"text",dense:"",outlined:"",filled:""},model:{value:e.esp.espExtractiva,callback:function(t){e.$set(e.esp,"espExtractiva",t)},expression:"esp.espExtractiva"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Nombre común",dense:"",outlined:"",filled:""},model:{value:e.esp.nombre,callback:function(t){e.$set(e.esp,"nombre",t)},expression:"esp.nombre"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{label:"Objetivo de plantación",items:e.espObjetivos,"item-value":"valor","item-text":"text",dense:"",outlined:"",filled:""},model:{value:e.esp.objetivo,callback:function(t){e.$set(e.esp,"objetivo",t)},expression:"esp.objetivo"}})],1),1==e.esp.objetivo||2==e.esp.objetivo||4==e.esp.objetivo?a("v-container",[a("v-alert",{attrs:{dense:"",border:"top",color:"blue-grey",dark:""}},[e._v(" Datos adicionales al objetivo ")]),a("v-row",{staticClass:"mt-0",attrs:{"no-gutters":e.width}},[a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"No.arboles antes de la afectación",dense:"",outlined:"",filled:"",onkeypress:"return (event.charCode >= 48 && event.charCode <= 57)"},model:{value:e.esp.noArbolesAntesAfectacion,callback:function(t){e.$set(e.esp,"noArbolesAntesAfectacion",t)},expression:"esp.noArbolesAntesAfectacion"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"No.entresacas o raleos a la fecha",dense:"",outlined:"",filled:"",onkeypress:"return (event.charCode >= 48 && event.charCode <= 57)"},model:{value:e.esp.noEntresacas,callback:function(t){e.$set(e.esp,"noEntresacas",t)},expression:"esp.noEntresacas"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Valor entresacas",dense:"",outlined:"",filled:"",onkeypress:"return (event.charCode >= 48 && event.charCode <= 57)"},model:{value:e.esp.valEntreSacas,callback:function(t){e.$set(e.esp,"valEntreSacas",t)},expression:"esp.valEntreSacas"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Porcentaje entresacas",dense:"",outlined:"",filled:"",onkeypress:"return (event.charCode >= 48 && event.charCode <= 57)"},model:{value:e.esp.porceEntreSacas,callback:function(t){e.$set(e.esp,"porceEntreSacas",t)},expression:"esp.porceEntreSacas"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Diámetro promedio a la altura del pecho (m)",dense:"",outlined:"",filled:"",onkeypress:"return (event.charCode >= 48 && event.charCode <= 57)"},model:{value:e.esp.diametroPromedio,callback:function(t){e.$set(e.esp,"diametroPromedio",t)},expression:"esp.diametroPromedio"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"* Altura de comercial",dense:"",outlined:"",filled:"",onkeypress:"return (event.charCode >= 48 && event.charCode <= 57)",title:"Es la altura aprovechable del arbol"},model:{value:e.esp.alturaComercial,callback:function(t){e.$set(e.esp,"alturaComercial",t)},expression:"esp.alturaComercial"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Altura total",dense:"",outlined:"",filled:"",onkeypress:"return (event.charCode >= 48 && event.charCode <= 57)",title:"Es la altura de la base a la parte superior de la copa"},model:{value:e.esp.alturaTotal,callback:function(t){e.$set(e.esp,"alturaTotal",t)},expression:"esp.alturaTotal"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Turno de plantación en años",dense:"",outlined:"",filled:"",onkeypress:"return (event.charCode >= 48 && event.charCode <= 57)"},model:{value:e.esp.plantacionAnos,callback:function(t){e.$set(e.esp,"plantacionAnos",t)},expression:"esp.plantacionAnos"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Porcentaje de árboles al finalizar el turno",dense:"",outlined:"",filled:"",onkeypress:"return (event.charCode >= 48 && event.charCode <= 57)"},model:{value:e.esp.porceArbolesTurnoFinal,callback:function(t){e.$set(e.esp,"porceArbolesTurnoFinal",t)},expression:"esp.porceArbolesTurnoFinal"}})],1),1==e.esp.objetivo?a("v-col",{attrs:{cols:"12",md:"4",sm:"12"}},[a("v-text-field",{attrs:{label:"Volumen de madera afectado",dense:"",outlined:"",filled:"",onkeypress:"return (event.charCode >= 48 && event.charCode <= 57)"},model:{value:e.esp.vlMaderaAfectado,callback:function(t){e.$set(e.esp,"vlMaderaAfectado",t)},expression:"esp.vlMaderaAfectado"}})],1):e._e()],1),a("v-divider"),a("v-divider",{staticClass:"mb-2"})],1):e._e(),a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",e._g(e._b({attrs:{label:"Fecha establecimiento",readonly:"",dense:"",outlined:"",filled:""},model:{value:e.esp.fecha,callback:function(t){e.$set(e.esp,"fecha",t)},expression:"esp.fecha"}},"v-text-field",r,!1),o))],1)]}}]),model:{value:e.esp.menuFecha,callback:function(t){e.$set(e.esp,"menuFecha",t)},expression:"esp.menuFecha"}},[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-date-picker",{attrs:{outlined:""},on:{input:function(t){e.esp.menuFecha=!1}},model:{value:e.esp.fecha,callback:function(t){e.$set(e.esp,"fecha",t)},expression:"esp.fecha"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Densidad siembra/hectarea",placeholder:"arboles por hectarea",dense:"",outlined:"",filled:""},model:{value:e.esp.densHectarea,callback:function(t){e.$set(e.esp,"densHectarea",t)},expression:"esp.densHectarea"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Area sembrada/hectarea",dense:"",outlined:"",filled:""},model:{value:e.esp.areaSembrada,callback:function(t){e.$set(e.esp,"areaSembrada",t)},expression:"esp.areaSembrada"}})],1),a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-alert",{attrs:{dense:"",border:"top",color:"blue-grey",dark:""}},[e._v(" Afectación ")])],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Área afectada en Hectareas",dense:"",outlined:"",filled:"",onkeypress:"return (event.charCode >= 48 && event.charCode <= 57)"},model:{value:e.esp.areaAfectadaHectareas,callback:function(t){e.$set(e.esp,"areaAfectadaHectareas",t)},expression:"esp.areaAfectadaHectareas"}})],1),a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",e._g(e._b({attrs:{label:"Fecha en el cual empezó a afectar el sistema forestal",readonly:"",dense:"",outlined:"",filled:""},model:{value:e.esp.fechaAfactaForestal,callback:function(t){e.$set(e.esp,"fechaAfactaForestal",t)},expression:"esp.fechaAfactaForestal"}},"v-text-field",r,!1),o))],1)]}}]),model:{value:e.esp.menuFechaAfactaForestal,callback:function(t){e.$set(e.esp,"menuFechaAfactaForestal",t)},expression:"esp.menuFechaAfactaForestal"}},[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-date-picker",{attrs:{outlined:""},on:{input:function(t){e.esp.menuFechaAfactaForestal=!1}},model:{value:e.esp.fechaAfactaForestal,callback:function(t){e.$set(e.esp,"fechaAfactaForestal",t)},expression:"esp.fechaAfactaForestal"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Tiempo en días que afectó el sistema forestal",dense:"",outlined:"",filled:"",onkeypress:"return (event.charCode >= 48 && event.charCode <= 57)"},model:{value:e.esp.diasAfectoSistemaForestal,callback:function(t){e.$set(e.esp,"diasAfectoSistemaForestal",t)},expression:"esp.diasAfectoSistemaForestal"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Número de árboles afectados",dense:"",outlined:"",filled:"",onkeypress:"return (event.charCode >= 48 && event.charCode <= 57)"},model:{value:e.esp.noArbolesAfectados,callback:function(t){e.$set(e.esp,"noArbolesAfectados",t)},expression:"esp.noArbolesAfectados"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Valor que esperaba recibir al vender la producción afectada",dense:"",outlined:"",filled:"",onkeypress:"return (event.charCode >= 48 && event.charCode <= 57)"},model:{value:e.esp.valorVenderProduccionAfectada,callback:function(t){e.$set(e.esp,"valorVenderProduccionAfectada",t)},expression:"esp.valorVenderProduccionAfectada"}})],1),a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-switch",{attrs:{inset:"",label:"Afectaciones en maquinaria, equipo, insumos y herramienta actividad forestal"},model:{value:e.esp.afectacionesEnMaquinaria,callback:function(t){e.$set(e.esp,"afectacionesEnMaquinaria",t)},expression:"esp.afectacionesEnMaquinaria"}}),a("v-divider")],1),e.esp.afectacionesEnMaquinaria?a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-select",{attrs:{label:"Tipo infraestructura",items:e.tipoInfraestructura,"item-value":"valor","item-text":"text",dense:"",outlined:"",multiple:"",filled:""},model:{value:e.esp.tipoInfraestructura,callback:function(t){e.$set(e.esp,"tipoInfraestructura",t)},expression:"esp.tipoInfraestructura"}})],1):e._e(),e.semillas&&e.esp.afectacionesEnMaquinaria?a("v-container",[a("v-alert",{attrs:{dense:"",border:"top",color:"blue-grey",dark:""}},[e._v(" Semilla ")]),a("v-row",{attrs:{"no-gutters":e.width}},[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Especie",dense:"",outlined:"",filled:""},model:{value:e.semilla.especieSemilla,callback:function(t){e.$set(e.semilla,"especieSemilla",t)},expression:"semilla.especieSemilla"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{label:"Tipo",items:e.tipoSemilla,"item-value":"valor","item-text":"text",dense:"",outlined:"",filled:""},model:{value:e.semilla.tipo,callback:function(t){e.$set(e.semilla,"tipo",t)},expression:"semilla.tipo"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{label:"Lotes de propagación",items:e.lotePropagacionSemilla,"item-value":"valor","item-text":"text",dense:"",multiple:"",outlined:"",filled:""},model:{value:e.semilla.lotePropagacionSemilla,callback:function(t){e.$set(e.semilla,"lotePropagacionSemilla",t)},expression:"semilla.lotePropagacionSemilla"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Cantidad de semilla almacenada",dense:"",outlined:"",filled:"",onkeypress:"return (event.charCode >= 48 && event.charCode <= 57)"},model:{value:e.semilla.cantidadAlmacenada,callback:function(t){e.$set(e.semilla,"cantidadAlmacenada",t)},expression:"semilla.cantidadAlmacenada"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{label:"Unidad",items:e.unidadSemilla,"item-value":"valor","item-text":"text",dense:"",outlined:"",filled:""},model:{value:e.semilla.unidad,callback:function(t){e.$set(e.semilla,"unidad",t)},expression:"semilla.unidad"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Valor en pesos de la afectación",dense:"",outlined:"",filled:"",onkeypress:"return (event.charCode >= 48 && event.charCode <= 57)"},model:{value:e.semilla.valorPesoAfectado,callback:function(t){e.$set(e.semilla,"valorPesoAfectado",t)},expression:"semilla.valorPesoAfectado"}})],1)],1)],1):e._e(),e.validarFertilizante&&e.esp.afectacionesEnMaquinaria?a("v-container",[a("v-alert",{attrs:{dense:"",border:"top",color:"blue-grey",dark:""}},[e._v(" Fertilizante ")]),a("v-row",{attrs:{"no-gutters":e.width}},[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{label:"Tipo",items:e.tipoFertilizante,"item-value":"valor","item-text":"text",dense:"",outlined:"",filled:""},model:{value:e.fertilizante.tipoFertilizante,callback:function(t){e.$set(e.fertilizante,"tipoFertilizante",t)},expression:"fertilizante.tipoFertilizante"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Nombre",dense:"",outlined:"",filled:""},model:{value:e.fertilizante.nombreFertilizante,callback:function(t){e.$set(e.fertilizante,"nombreFertilizante",t)},expression:"fertilizante.nombreFertilizante"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Cantidad Kg o litros",dense:"",outlined:"",filled:"",onkeypress:"return (event.charCode >= 48 && event.charCode <= 57)"},model:{value:e.fertilizante.cantidadKgLt,callback:function(t){e.$set(e.fertilizante,"cantidadKgLt",t)},expression:"fertilizante.cantidadKgLt"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Valor en pesos de la afectación",dense:"",outlined:"",filled:"",onkeypress:"return (event.charCode >= 48 && event.charCode <= 57)"},model:{value:e.fertilizante.valorPeso,callback:function(t){e.$set(e.fertilizante,"valorPeso",t)},expression:"fertilizante.valorPeso"}})],1)],1)],1):e._e(),e.validarplaguicida&&e.esp.afectacionesEnMaquinaria?a("v-container",[a("v-alert",{attrs:{dense:"",border:"top",color:"blue-grey",dark:""}},[e._v(" Plaguicida ")]),a("v-row",{attrs:{"no-gutters":e.width}},[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Nombre",dense:"",outlined:"",filled:""},model:{value:e.plaguicida.nombreFertilizante,callback:function(t){e.$set(e.plaguicida,"nombreFertilizante",t)},expression:"plaguicida.nombreFertilizante"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{label:"Tipo",items:e.listaPresentacion,"item-value":"valor","item-text":"text",dense:"",outlined:"",filled:""},model:{value:e.plaguicida.listaPresentacion,callback:function(t){e.$set(e.plaguicida,"listaPresentacion",t)},expression:"plaguicida.listaPresentacion"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Cantidad",dense:"",outlined:"",filled:"",onkeypress:"return (event.charCode >= 48 && event.charCode <= 57)"},model:{value:e.plaguicida.cantidad,callback:function(t){e.$set(e.plaguicida,"cantidad",t)},expression:"plaguicida.cantidad"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Valor en pesos de la afectación",dense:"",outlined:"",filled:"",onkeypress:"return (event.charCode >= 48 && event.charCode <= 57)"},model:{value:e.plaguicida.valorPeso,callback:function(t){e.$set(e.plaguicida,"valorPeso",t)},expression:"plaguicida.valorPeso"}})],1)],1)],1):e._e(),e.validarMaquinaria&&e.esp.afectacionesEnMaquinaria?a("v-container",[a("v-alert",{attrs:{dense:"",border:"top",color:"blue-grey",dark:""}},[e._v(" Instalaciones y maquinaria agricola ")]),a("v-row",{attrs:{"no-gutters":e.width}},[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{label:"Tipo",items:e.tipoMaquinariaAgricola,"item-value":"valor","item-text":"text",dense:"",outlined:"",filled:""},model:{value:e.maquinariaAgricola.tipoMaquinariaAgricola,callback:function(t){e.$set(e.maquinariaAgricola,"tipoMaquinariaAgricola",t)},expression:"maquinariaAgricola.tipoMaquinariaAgricola"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Nombre /marca comercial",dense:"",outlined:"",filled:""},model:{value:e.maquinariaAgricola.nombreMarca,callback:function(t){e.$set(e.maquinariaAgricola,"nombreMarca",t)},expression:"maquinariaAgricola.nombreMarca"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Valor en pesos de la afectación",dense:"",outlined:"",filled:"",onkeypress:"return (event.charCode >= 48 && event.charCode <= 57)"},model:{value:e.maquinariaAgricola.valorPeso,callback:function(t){e.$set(e.maquinariaAgricola,"valorPeso",t)},expression:"maquinariaAgricola.valorPeso"}})],1)],1)],1):e._e(),a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-alert",{attrs:{dense:"",border:"top",color:"blue-grey",dark:""}},[e._v(" Costos de producción forestal ")])],1),a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-alert",{attrs:{dense:"",border:"left",color:"blue-grey",dark:""}},[e._v(" Costos Directos ")])],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{label:"Seleccionar rubro",items:e.actividades,"item-value":"valor","item-text":"text",dense:"",outlined:"",filled:""},model:{value:e.esp.actividad,callback:function(t){e.$set(e.esp,"actividad",t)},expression:"esp.actividad"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Costo generado en pesos colombianos",dense:"",outlined:"",filled:"",onkeypress:"return (event.charCode >= 48 && event.charCode <= 57)"},model:{value:e.esp.costoGenerado,callback:function(t){e.$set(e.esp,"costoGenerado",t)},expression:"esp.costoGenerado"}})],1),a("v-btn",{staticStyle:{width:"100%"},attrs:{color:"error"},on:{click:e.addCostoDirecto}},[e._v(" Agregar costo ")]),a("v-data-table",{staticClass:"elevation-1",staticStyle:{width:"100%"},attrs:{headers:e.costosDirectosHeader,items:e.itemsCostosDirectos},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title")],1)]},proxy:!0},{key:"item.actions",fn:function(t){var o=t.item;return[a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteCostoDirecto(o)}}},[e._v(" mdi-delete ")])]}}])}),a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-alert",{attrs:{dense:"",border:"left",color:"blue-grey",dark:""}},[e._v(" Costos Indirectos ")])],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{label:"Seleccionar rubro",items:e.rubros,"item-value":"valor","item-text":"text",dense:"",outlined:"",filled:""},model:{value:e.esp.rubrosIndirectos,callback:function(t){e.$set(e.esp,"rubrosIndirectos",t)},expression:"esp.rubrosIndirectos"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Costo generado en pesos colombianos",dense:"",outlined:"",filled:"",onkeypress:"return (event.charCode >= 48 && event.charCode <= 57)"},model:{value:e.esp.costoGeneradoIndirecto,callback:function(t){e.$set(e.esp,"costoGeneradoIndirecto",t)},expression:"esp.costoGeneradoIndirecto"}})],1),a("v-btn",{staticStyle:{width:"100%"},attrs:{color:"error"},on:{click:e.addCostoIndirecto}},[e._v(" Agregar costo ")]),a("v-data-table",{staticClass:"elevation-1",staticStyle:{width:"100%"},attrs:{headers:e.costosIndirectosHeader,items:e.itemsCostosIndirectos},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title")],1)]},proxy:!0},{key:"item.actions",fn:function(t){var o=t.item;return[a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteCostoIndirecto(o)}}},[e._v(" mdi-delete ")])]}}])})],1),a("br"),a("br")],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.especiesHeaders,items:e.especies,expanded:e.expanded,"single-expand":"","item-key":"nombre","show-expand":""},on:{"update:expanded":function(t){e.expanded=t}},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title")],1)]},proxy:!0},{key:"item.actions",fn:function(t){var o=t.item;return[a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteEspecie(o)}}},[e._v(" mdi-delete ")])]}},{key:"expanded-item",fn:function(t){var o=t.headers,r=t.item;return[a("td",{attrs:{colspan:o.length}},[a("v-row",{attrs:{"no-gutters":e.width}},[a("v-col",{attrs:{cols:"12",md:"4"}},[a("b",[e._v("Fase Productiva:")]),e._v(" "+e._s(r.faseProd)+" ")]),a("v-col",{attrs:{cols:"12",md:"4"}},[a("b",[e._v("Especie Forestal:")]),e._v(" "+e._s(r.espAfectada)+" ")]),a("v-col",{attrs:{cols:"12",md:"4"}},[a("b",[e._v("Especie Extractiva:")]),e._v(" "+e._s(r.espExtractiva)+" ")]),a("v-col",{attrs:{cols:"12",md:"4"}},[a("b",[e._v("Fecha Establecimiento:")]),e._v(" "+e._s(r.fecha)+" ")]),a("v-col",{attrs:{cols:"12",md:"4"}},[a("b",[e._v("Densidad Siembra/Hectarea:")]),e._v(" "+e._s(r.densHectarea)+" ")]),a("v-col",{attrs:{cols:"12",md:"4"}},[a("b",[e._v("Area Sembrada/Hectarea:")]),e._v(" "+e._s(r.areaSembrada)+" ")])],1)],1)]}}])})],1)],1)},Oe=[],Re={name:"dataEspecie",props:["obtenerDataEspecie"],data:function(){return{e6:3,tab:0,mfnac:!1,esp:{},semilla:{},fertilizante:{},plaguicida:{},maquinariaAgricola:{},fasesProd:[],espForestales:[],espExtractivas:[],espObjetivos:[],tipoInfraestructura:[],tipoSemilla:[],lotePropagacionSemilla:[],unidadSemilla:[],tipoFertilizante:[],listaPresentacion:[],tipoMaquinariaAgricola:[],rubros:[],actividades:[],dialog:!1,notifications:!1,sound:!0,widgets:!1,expanded:[],especiesHeaders:[{text:"Especie",align:"start",sortable:!1,value:"nombre"},{text:"Eliminar",value:"actions",sortable:!1,width:"2%"},{text:"Ver más",value:"data-table-expand",width:"2%"}],especies:[],itemsCostosDirectos:[],costosDirectosHeader:[{text:"Id",align:"start",sortable:!1,value:"id"},{text:"Rubro",align:"start",sortable:!1,value:"rubros"},{text:"Costo",align:"start",sortable:!1,value:"costo"},{text:"Eliminar",value:"actions",sortable:!1,width:"2%"}],itemsCostosIndirectos:[],costosIndirectosHeader:[{text:"Id",align:"start",sortable:!1,value:"id"},{text:"Rubro",align:"start",sortable:!1,value:"rubros"},{text:"Costo",align:"start",sortable:!1,value:"costo"},{text:"Eliminar",value:"actions",sortable:!1,width:"2%"}]}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getDataEventSpecie();case 2:case"end":return t.stop()}}),t)})))()},computed:{width:function(){var e;switch(this.$vuetify.breakpoint.name){case"xs":e=!0;break;case"sm":e=!0;break;case"md":e=!1;break;case"lg":e=!1;break;case"xl":e=!1;break}return e},semillas:function(){for(var e in this.esp.tipoInfraestructura)if(1===this.esp.tipoInfraestructura[e])return!0;return!1},validarFertilizante:function(){for(var e in this.esp.tipoInfraestructura)if(2===this.esp.tipoInfraestructura[e])return!0;return!1},validarplaguicida:function(){for(var e in this.esp.tipoInfraestructura)if(3===this.esp.tipoInfraestructura[e])return!0;return!1},validarMaquinaria:function(){for(var e in this.esp.tipoInfraestructura)if(4===this.esp.tipoInfraestructura[e])return!0;return!1}},methods:{addEspecie:function(){this.dialog=!1,0!==Object.entries(this.esp).length&&(this.esp.costosDirectos=this.itemsCostosDirectos,this.esp.costosInDirectos=this.itemsCostosIndirectos,this.esp.semilla=this.semilla,this.esp.fertilizante=this.fertilizante,this.esp.plaguicida=this.plaguicida,this.esp.maquinariaAgricola=this.maquinariaAgricola,this.especies.push(this.esp),this.esp={},this.obtenerDataEspecie(this.especies))},deleteEspecie:function(e){var t=this.especies.indexOf(e);this.especies.splice(t,1),this.obtenerDataEspecie(this.especies)},deleteCostoDirecto:function(e){var t=this.itemsCostosDirectos.indexOf(e);this.itemsCostosDirectos.splice(t,1)},addCostoDirecto:function(){var e=this;if(this.esp.costoGenerado&&this.esp.actividad){var t={};t.costo=this.esp.costoGenerado,t.id=this.esp.actividad;var a=this.actividades.filter((function(t){return t.valor===e.esp.actividad}));t.rubros=a[0].text,this.itemsCostosDirectos.push(t),this.esp.costoGenerado="",this.esp.actividad={}}},deleteCostoIndirecto:function(e){var t=this.itemsCostosIndirectos.indexOf(e);this.itemsCostosIndirectos.splice(t,1)},addCostoIndirecto:function(){var e=this;if(this.esp.costoGeneradoIndirecto&&this.esp.rubrosIndirectos){var t={};t.costo=this.esp.costoGeneradoIndirecto,t.id=this.esp.rubrosIndirectos;var a=this.rubros.filter((function(t){return t.valor===e.esp.rubrosIndirectos}));t.rubros=a[0].text,this.itemsCostosIndirectos.push(t),this.esp.costoGeneradoIndirecto="",this.esp.rubrosIndirectos={}}},getDataEventSpecie:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,o,r,n,i,s,l,c,d,u,v,p,m,f,b,h,g,x,k,_,w,E,y,P,$,C,S,A,j,D;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L.getDataEventSpecie();case 3:if(a=t.sent,200===a.status){for(i in o=a.data.token,r=Object(H["a"])(o),n=r.dataEventSpecie,n.faseProductiva)s={valor:n.faseProductiva[i][0],text:n.faseProductiva[i][1]},e.fasesProd.push(s);for(l in n.especieForestal)c={valor:n.especieForestal[l][0],text:n.especieForestal[l][1]},e.espForestales.push(c);for(d in n.especieExtractiva)u={valor:n.especieExtractiva[d][0],text:n.especieExtractiva[d][1]},e.espExtractivas.push(u);for(v in n.objePlantacion)p={valor:n.objePlantacion[v][0],text:n.objePlantacion[v][1]},e.espObjetivos.push(p);for(m in n.tipoInfraestrcutura)f={valor:n.tipoInfraestrcutura[m][0],text:n.tipoInfraestrcutura[m][1]},e.tipoInfraestructura.push(f);for(b in n.tipoSemilla)h={valor:n.tipoSemilla[b][0],text:n.tipoSemilla[b][1]},e.tipoSemilla.push(h);for(g in n.lotePropaga)x={valor:n.lotePropaga[g][0],text:n.lotePropaga[g][1]},e.lotePropagacionSemilla.push(x);for(k in n.unidad)_={valor:n.unidad[k][0],text:n.unidad[k][1]},e.unidadSemilla.push(_);for(w in n.tipoFertilizante)E={valor:n.tipoFertilizante[w][0],text:n.tipoFertilizante[w][1]},e.tipoFertilizante.push(E);for(y in n.tipoPlaguicida)P={valor:n.tipoPlaguicida[y][0],text:n.tipoPlaguicida[y][1]},e.listaPresentacion.push(P);for($ in n.tipoMaquinaria)C={valor:n.tipoMaquinaria[$][0],text:n.tipoMaquinaria[$][1]},e.tipoMaquinariaAgricola.push(C);for(S in n.rubros)A={valor:n.rubros[S][0],text:n.rubros[S][1]},e.rubros.push(A);for(j in n.actividad)D={valor:n.actividad[j][0],text:n.actividad[j][1]},e.actividades.push(D)}t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}}},Fe=Re,Me=Object(v["a"])(Fe,De,Oe,!1,null,null,null),Ie=Me.exports,ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",scrollable:"",transition:"dialog-bottom-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[a("v-col",[a("v-btn",e._g(e._b({attrs:{color:"error",title:"Abrir mapa",block:""},on:{click:function(t){return e.reloadMap()}}},"v-btn",r,!1),o),[a("v-icon",[e._v("mdi-google-maps")]),e._v("Asignar ubicación del evento ")],1)],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.dialog=!1}}},[a("v-icon",[e._v("mdi-close")])],1),a("v-toolbar-title",[e._v("Ubicación del evento")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{dark:"",text:""},on:{click:function(t){return e.guardarDataMapa()}}},[e._v(" Guardar ")])],1)],1),a("div",{staticStyle:{display:"block",overflow:"auto",height:"100vh"}},[e.mapSee?a("l-map",{ref:"mapEvent",staticStyle:{height:"100%"},attrs:{zoom:e.zoom,center:e.center},on:{"update:center":e.centerUpdated,"update:bounds":e.boundsUpdated}},[a("l-control-layers",{attrs:{position:"topright"}}),e._l(e.tileProviders,(function(e){return a("l-tile-layer",{key:e.name,attrs:{name:e.name,visible:e.visible,url:e.url,attribution:e.attribution,"layer-type":"base"}})})),a("l-control-scale",{attrs:{position:"topright",imperial:!0,metric:!1}}),a("vue-leaflet-minimap",{ref:"miniMap",attrs:{layer:e.layer,options:e.optionsMiniMap}}),a("l-control-fullscreen",{attrs:{position:"topleft",options:{title:{false:"Ampliar",true:"Reducir"}}}}),e._l(e.markers,(function(t){return a("l-marker",{key:t.id,attrs:{visible:t.visible,draggable:t.draggable,"lat-lng":t.position},on:{dragend:e.setMarkerPosition}},[a("l-icon",{attrs:{"icon-anchor":e.staticAnchor,"class-name":"someExtraClass"}},[a("v-icon",{attrs:{"x-large":"",color:"red"}},[e._v(" mdi-map-marker ")])],1)],1)})),a("l-control",{attrs:{position:"bottomleft"}},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-btn",{staticStyle:{"background-color":"white"},attrs:{elevation:"3",color:"primary",icon:"",dark:""},on:{click:e.pedirUbicacion}},[a("v-icon",[e._v(" mdi-crosshairs-gps ")])],1)],1),a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-btn",{staticStyle:{"background-color":"white"},attrs:{elevation:"3",color:"primary",icon:"",dark:""},on:{click:e.formularioUbicacion}},[a("v-icon",[e._v(" mdi-form-select ")])],1)],1)],1)],1)],2):e._e()],1),a("v-dialog",{attrs:{"max-width":"900px"},model:{value:e.dialogMenu,callback:function(t){e.dialogMenu=t},expression:"dialogMenu"}},[a("v-container",[a("v-card",{attrs:{elevation:"2"}},[a("v-card-text",[a("p",{staticClass:"text--primary"},[e._v(" Por favor situé en el mapa el sitio de ocurrencia. ")]),a("hr"),a("v-container",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",{attrs:{"no-gutters":e.width}},[a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-file-input",{attrs:{label:"Shapefile o Kml",dense:"",outlined:"",filled:""},model:{value:e.archivoUbicacion,callback:function(t){e.archivoUbicacion=t},expression:"archivoUbicacion"}})],1),a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-text-field",{attrs:{label:"Nombre puerto desembarque",dense:"",outlined:"",filled:""},model:{value:e.ubicacion.nombrePuerto,callback:function(t){e.$set(e.ubicacion,"nombrePuerto",t)},expression:"ubicacion.nombrePuerto"}})],1),a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-switch",{attrs:{inset:"",label:"Evento ubicado en vereda"},model:{value:e.eventoVereda,callback:function(t){e.eventoVereda=t},expression:"eventoVereda"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Latitud(X.Y)º",dense:"",outlined:"",filled:"",required:"",rules:e.documentRules},model:{value:e.ubicacion.latitud,callback:function(t){e.$set(e.ubicacion,"latitud",t)},expression:"ubicacion.latitud"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Longitud(X.Y)º",dense:"",outlined:"",filled:"",required:"",rules:e.documentRules},model:{value:e.ubicacion.longitud,callback:function(t){e.$set(e.ubicacion,"longitud",t)},expression:"ubicacion.longitud"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Precisión(m)",dense:"",outlined:"",filled:""},model:{value:e.ubicacion.precision,callback:function(t){e.$set(e.ubicacion,"precision",t)},expression:"ubicacion.precision"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Altitud(m)",dense:"",outlined:"",filled:""},model:{value:e.ubicacion.altitud,callback:function(t){e.$set(e.ubicacion,"altitud",t)},expression:"ubicacion.altitud"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{label:"Departamento",items:e.departamentos,"item-value":"valor",dense:"",outlined:"",filled:"",required:"",rules:e.documentRules},on:{change:function(t){return e.cargarMunicipioSegunDepartamento()}},model:{value:e.ubicacion.departamento,callback:function(t){e.$set(e.ubicacion,"departamento",t)},expression:"ubicacion.departamento"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{label:"Municipio",items:e.relMunicipioDepartamento,"item-value":"valor",dense:"",outlined:"",filled:"",required:"",rules:e.documentRules},on:{change:function(t){return e.cargarVeredaSegunMunicipio()}},model:{value:e.ubicacion.municipio,callback:function(t){e.$set(e.ubicacion,"municipio",t)},expression:"ubicacion.municipio"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[e.eventoVereda?a("v-select",{attrs:{label:"Veredas",items:e.relVeredaMunicipio,"item-value":"valor",dense:"",outlined:"",filled:""},model:{value:e.ubicacion.codVereda,callback:function(t){e.$set(e.ubicacion,"codVereda",t)},expression:"ubicacion.codVereda"}}):e._e()],1),a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-textarea",{attrs:{label:"Observación",dense:"",outlined:"",filled:"",required:"",rules:e.documentRules},model:{value:e.ubicacion.observacion,callback:function(t){e.$set(e.ubicacion,"observacion",t)},expression:"ubicacion.observacion"}})],1)],1)],1)],1)],1),a("v-card-actions",{staticClass:"justify-end"},[a("v-btn",{attrs:{text:""},on:{click:function(t){e.dialogMenu=!1}}},[e._v("Cerrar")])],1)],1)],1)],1)],1)],1)},qe=[],Ne=a("e11e"),Ue=a.n(Ne),Le=a("2699"),Ve=a("a40a"),Te=a("4e2b"),He=a("fbba"),Ge=a("2253"),Je=a("9ee8"),Xe=a("d371"),Ye=a("c222"),We=a("4a3e"),Ke=a.n(We),Be=(a("6cc5"),a("995f"),{name:"EventoUbicacion",components:{LMap:Le["a"],LTileLayer:Ve["a"],LMarker:Te["a"],LIcon:He["a"],LControl:Ge["a"],LControlLayers:Je["a"],LControlScale:Xe["a"],LControlFullscreen:Ye["a"],VueLeafletMinimap:Ke.a},props:["obtenerDataMapa"],data:function(){return{dialog:!1,dialogMenu:!1,bounds:null,staticAnchor:[20,40],markers:[{id:"m1",position:{lat:7.086594479396249,lng:-73.13499631331399},tooltip:"Ubicación actual",draggable:!0,visible:!0}],zoom:20,center:Object(Ne["latLng"])(7.086594479396249,-73.13499631331399),url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",tileProviders:[{name:"OpenStreetMap",visible:!0,url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"},{name:"OpenTopoMap",visible:!1,url:"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png"}],layer:new Ue.a.TileLayer("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"),optionsMiniMap:{position:"bottomright",width:150,height:125,toggleDisplay:!0},documentRules:[function(e){return!!e||"Campo obligatorio"}],valid:!1,eventoVereda:!1,departamentos:[],municipios:[],relVeredaMunicipio:[],veredas:[],relMunicipioDepartamento:[],ubicacion:{departamento:"",municipio:"",latitud:"",longitud:"",precision:"",altitud:"",enVereda:"",codVereda:"",nombrePuerto:"",observacion:""},archivoUbicacion:[],map:[],mapSee:!1}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getDataMapa();case 2:case"end":return t.stop()}}),t)})))()},created:function(){var e=this;"geolocation"in navigator?navigator.geolocation.getCurrentPosition((function(t){var a=t.coords;e.markers[0].position.lat=0,e.markers[0].position.lng=0,e.center.lat=0,e.center.lng=0,e.center.lat=a.latitude,e.center.lng=a.longitude,e.markers[0].position.lat=a.latitude,e.markers[0].position.lng=a.longitude,e.ubicacion.latitud=a.latitude,e.ubicacion.longitud=a.longitude}),(function(){e.$toasted.error("No se pudo obtener su ubicación, intentelo mas tarde.",{duration:5e3})}),{enableHighAccuracy:!0}):this.$toasted.error("Lo sentimos, su navegador no tiene soporte para obtener su ubicación.",{duration:5e3})},methods:{getDataMapa:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,o,r,n,i,s,l,c,d,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L.getDataMapa();case 3:if(a=t.sent,200===a.status){for(i in o=a.data.token,r=Object(H["a"])(o),n=r.dataMapa,n.departamentos)s={valor:n.departamentos[i][0],text:n.departamentos[i][1]},e.departamentos.push(s);for(l in n.municipios)c={valor:n.municipios[l][0],text:n.municipios[l][2],idDepartamento:n.municipios[l][3]},e.municipios.push(c);for(d in n.veredas)u={valor:n.veredas[d][0],text:n.veredas[d][1],idMunicipio:n.veredas[d][2]},e.veredas.push(u)}t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},cargarMunicipioSegunDepartamento:function(){var e=this;this.relMunicipioDepartamento=this.municipios.filter((function(t){return t.idDepartamento===e.ubicacion.departamento}))},cargarVeredaSegunMunicipio:function(){var e=this;this.relVeredaMunicipio=this.veredas.filter((function(t){return t.idMunicipio===e.ubicacion.municipio}))},formularioUbicacion:function(){this.dialogMenu=!this.dialogMenu,this.valid=!0},centerUpdated:function(e){this.center=e},boundsUpdated:function(e){this.bounds=e},pedirUbicacion:function(){var e=this;"geolocation"in navigator?navigator.geolocation.getCurrentPosition((function(t){var a=t.coords;e.markers[0].position.lat=0,e.markers[0].position.lng=0,e.center.lat=0,e.center.lng=0,e.center.lat=a.latitude,e.center.lng=a.longitude,e.markers[0].position.lat=a.latitude,e.markers[0].position.lng=a.longitude,e.ubicacion.latitud=a.latitude,e.ubicacion.longitud=a.longitude}),(function(){e.$toasted.error("No se pudo obtener su ubicación, intentelo mas tarde.",{duration:5e3})}),{enableHighAccuracy:!0}):this.$toasted.error("Lo sentimos, su navegador no tiene soporte para obtener su ubicación.",{duration:5e3})},setPos:function(e){var t=e.target,a=t.getLatLng();return t.setLatLng(a),[a.lat,a.lng]},setMarkerPosition:function(e){var t=this.setPos(e);this.markers[0].position.lat=t[0],this.markers[0].position.lng=t[1],this.ubicacion.latitud=this.markers[0].position.lat,this.ubicacion.longitud=this.markers[0].position.lng},reloadMap:function(){var e=this;this.mapSee=!0,this.$nextTick((function(){var t=e.$refs.mapEvent;setTimeout((function(){t.mapObject.invalidateSize()}),250)}))},guardarDataMapa:function(){this.valid?!this.eventoVereda||this.ubicacion.codVereda?this.$refs.form.validate()?(this.dialog=!1,this.obtenerDataMapa(this.ubicacion)):this.$toasted.error("Hay errores en el registro de los datos de la ubicación.",{duration:5e3}):this.$toasted.error("Si el evento es en una vereda se debe seleccionar la vereda.",{duration:5e3}):this.$toasted.error("Para grabar la ubicación primero debe diligenciar el formulario.",{duration:5e3})}},computed:{options:function(){return{onEachFeature:this.onEachFeatureFunction}},width:function(){var e;switch(this.$vuetify.breakpoint.name){case"xs":e=!0;break;case"sm":e=!0;break;case"md":e=!1;break;case"lg":e=!1;break;case"xl":e=!1;break}return e}}}),Qe=Be,Ze=Object(v["a"])(Qe,ze,qe,!1,null,null,null),et=Ze.exports,tt={components:{dataProveedor:je,especies:Ie,mapaEvento:et},data:function(){return{dialog:!1,e6:3,tab:0,mfnac:!1,dataEventUpdate:[],selEvento:{},tiposEvento:[],tiposSubEvento:[],relEventoSubEvento:[],sisProds:[],dataProductor:[],dataMapa:[],dataEspecie:[],loading:!1,dataEncabezado:{},rulesEventGeneral:[function(e){return!!e||"Campo obligatorio"}]}},created:function(){},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getDataEvent();case 2:case"end":return t.stop()}}),t)})))()},methods:{onResultadosProductor:function(e){this.dataProductor=e},onResultadosMapa:function(e){this.dataMapa=e,this.dataEncabezado.latitud=e.latitud,this.dataEncabezado.longitud=e.longitud,this.dataEncabezado.observacion=e.observacion},onResultadosEspecie:function(e){console.log(e),this.dataEspecie=e},addEspecie:function(){this.selEvento.especies.unshift({faseProd:"",espAfectada:"",espExtractiva:"",nombre:"",objetivo:"",fecha:"",densHectarea:"",areaSembrada:"",menuFecha:!1})},delEspecie:function(e){var t=this.especies.findIndex((function(t){return t===e}));this.selEvento.especies.splice(t,1)},valEspecies:function(e){!1===e&&(this.selEvento.especies=[])},getDataEvent:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,o,r,n,i,s,l,c,d,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L.getDataEvent();case 3:if(a=t.sent,200===a.status){for(i in o=a.data.token,r=Object(H["a"])(o),n=r.dataEvent,n.tipoEvento)s={valor:n.tipoEvento[i][0],text:n.tipoEvento[i][1]},e.tiposEvento.push(s);for(l in n.subEvento)c={valor:n.subEvento[l][0],text:n.subEvento[l][1],idEvento:n.subEvento[l][2]},e.tiposSubEvento.push(c);for(d in n.sistemaProductivo)u={valor:n.sistemaProductivo[d][0],text:n.sistemaProductivo[d][1]},e.sisProds.push(u)}t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},cargarSubEventoSegunEvento:function(){var e=this;this.relEventoSubEvento=this.tiposSubEvento.filter((function(t){return t.idEvento===e.selEvento.tipoEv}))},guardarEvento:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,o,r,n,i,s,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loading=!0,e.validacionCamposObligatorios(),e.loading){t.next=4;break}return t.abrupt("return");case 4:return a=e.dataEncabezadoEvento(),o=e.dataProductor,r=e.dataEspecie,console.log(a),t.prev=8,t.next=11,L.setDataEvento({dataEncabezadoEvento:a,dataProductor:o,dataEspecie:r});case 11:n=t.sent,200===n.status?(i=n.data.token,s=Object(H["a"])(i),l=s.userobj,console.log(l),e.$toasted.success("Se creo el evento correctamente.",{duration:4e3})):console.log(n),t.next=19;break;case 15:t.prev=15,t.t0=t["catch"](8),e.$toasted.error("Ocurrio un error al guardar el evento.",{duration:4e3}),console.log(t.t0);case 19:e.loading=!1;case 20:case"end":return t.stop()}}),t,null,[[8,15]])})))()},dataEncabezadoEvento:function(){var e=JSON.parse(localStorage.getItem("dataUser"));return this.dataEncabezado=this.selEvento,this.dataEncabezado.latitud=this.dataMapa.latitud,this.dataEncabezado.longitud=this.dataMapa.longitud,this.dataEncabezado.departamento=this.dataMapa.departamento,this.dataEncabezado.municipio=this.dataMapa.municipio,this.dataEncabezado.precision=this.dataMapa.precision,this.dataEncabezado.altitud=this.dataMapa.altitud,this.dataEncabezado.enVereda=this.dataMapa.enVereda,this.dataEncabezado.codVereda=this.dataMapa.codVereda,this.dataEncabezado.nombrePuerto=this.dataMapa.nombrePuerto,this.dataEncabezado.observacion=this.dataMapa.observacion,this.dataEncabezado.idUsuario=e.id,this.dataEncabezado},validacionCamposObligatorios:function(){Object.keys(this.selEvento).length<3&&(this.$toasted.error("La información del detalle del evento esta incompleta.",{duration:4e3}),this.loading=!1),Object.keys(this.dataMapa).length<5&&(this.$toasted.error("La información de la ubicación del evento esta incompleta.",{duration:4e3}),this.loading=!1),Object.keys(this.selEvento.sisProds).length>0&&0===Object.keys(this.dataEspecie).length&&(this.$toasted.error("Hay sistemas productivos seleccionados pero no han sido registrados.",{duration:4e3}),this.loading=!1)}},computed:{width:function(){var e;switch(this.$vuetify.breakpoint.name){case"xs":e=!0;break;case"sm":e=!0;break;case"md":e=!1;break;case"lg":e=!1;break;case"xl":e=!1;break}return e},contForestal:function(){var e=!1;for(var t in this.selEvento.sisProds){if(e)break;e=3===this.selEvento.sisProds[t]}return e},esEmpresa:function(){var e=!1;for(var t in this.selEvento.condJuridica){if(e)break;e=2===this.selEvento.condJuridica[t]}return e},compTipoDcto:function(){return this.esEmpresa?this.tiposDcto.filter((function(e){return"juridica"===e.persona})):this.tiposDcto.filter((function(e){return"natural"===e.persona}))},especies:function(){return this.selEvento.especies}},watch:{}},at=tt,ot=(a("268c"),Object(v["a"])(at,Ee,ye,!1,null,"bae2639a",null)),rt=ot.exports,nt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("v-container",[a("updateUser",{attrs:{updateUser:!0}})],1)],1)},it=[],st={components:{updateUser:ve},name:"Home"},lt=st,ct=Object(v["a"])(lt,nt,it,!1,null,null,null),dt=ct.exports,ut=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"mt-5"},[a("br"),a("v-subheader",[a("v-icon",[e._v("mdi-map-marker")]),a("span",[e._v("Observación de la ubicación")])],1),a("v-subheader",[a("span",[e._v(e._s(e.$route.params.evento.descrip_llegada_casco_urbano)+" ")])]),a("v-divider"),a("v-chip",{staticClass:"ma-2"},[e._v("Fecha Evento: "+e._s(e.$route.params.evento.fecha_registro_evento)+" ")]),a("v-chip",{staticClass:"ma-2"},[e._v("Tipo Evento: "+e._s(e.$route.params.evento.tipo_evento)+" ")]),a("br"),a("br"),a("v-row",{attrs:{justify:"space-around"}},[a("v-card",{attrs:{width:"100%"}},[a("v-card-text",[a("div",{staticClass:"ml-8 mb-2"},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Filtrar",dense:"",outlined:"",filled:"","prepend-icon":"mdi-filter"},on:{keyup:e.filtrarSeguimiento},model:{value:e.searchSeguimientos,callback:function(t){e.searchSeguimientos=t},expression:"searchSeguimientos"}})],1)],1)],1)],1),a("div",{staticStyle:{width:"auto",height:"auto","max-height":"500px",overflow:"auto"}},[a("v-timeline",{attrs:{"align-top":"",dense:""}},e._l(e.filter,(function(t){return a("v-timeline-item",{key:t.cod_evento_seguimiento,attrs:{color:"primary"},scopedSlots:e._u([{key:"icon",fn:function(){return[a("span",{staticStyle:{color:"white"}},[e._v(e._s(t.nombre_usuario.substr(0,2).toUpperCase()))])]},proxy:!0}],null,!0)},[a("v-card",{staticClass:"elevation-1",attrs:{width:"80%"}},[a("div",{staticClass:"ml-2"},[a("div",{staticClass:"font-weight-normal"},[a("strong",[e._v(e._s(t.nombre_usuario))]),e._v(" @"+e._s(t.fecha_registro)+" "),t.adjuntos.length>0?a("v-icon",{on:{click:function(a){return e.listadoAdjuntos(t.adjuntos)}}},[e._v("mdi-attachment")]):e._e()],1),a("div",[e._v(e._s(t.observacion))])])])],1)})),1)],1),a("v-container",[a("v-progress-linear",{staticClass:"mt-1",attrs:{active:e.loading,indeterminate:e.loading,color:"green accent-4",rounded:"",height:"6"}}),a("v-form",{ref:"form",attrs:{"lazy-validation":"",name:"form1"},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",{attrs:{"no-gutters":e.noGutters}},[a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-file-input",{attrs:{multiple:"",dense:"",counter:"","small-chips":"","show-size":"","truncate-length":"15"},model:{value:e.seguimiento.adjuntos,callback:function(t){e.$set(e.seguimiento,"adjuntos",t)},expression:"seguimiento.adjuntos"}})],1),a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-textarea",{attrs:{dense:"",outlined:"",filled:"",label:"Observación",rules:e.nameRules,required:""},model:{value:e.seguimiento.observacion,callback:function(t){e.$set(e.seguimiento,"observacion",t)},expression:"seguimiento.observacion"}})],1)],1),a("v-btn",{attrs:{block:"",elevation:"2",raised:"",depressed:"",color:"error"},on:{click:function(t){return e.guardarSeguimiento()}}},[e._v("Agregar")])],1)],1)],1)],1)],1),a("br"),a("br"),a("br"),a("v-dialog",{attrs:{scrollable:"","max-width":"300px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[e._v("Adjuntos")]),a("v-divider"),a("v-card-text",{staticStyle:{height:"auto"}},[e._l(e.descargaAdjuntos,(function(t){return a("v-list-item",{key:t.id},[a("v-list-item-icon",[a("v-icon",[e._v("mdi-download-box")])],1),a("v-list-item-content",[a("a",{on:{click:function(a){return e.descargarAdjunto(t)}}},[e._v(" "+e._s(t.nombre)+" ")])])],1)})),a("br")],2),a("v-divider"),a("v-card-actions",[a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.dialog=!1}}},[e._v(" Cerrar ")])],1)],1)],1)],1)},vt=[],pt=(a("2532"),a("3ca3"),a("ddb0"),a("2b3d"),a("b85c")),mt={name:"seguimientos",data:function(){return{loading:!1,valid:!0,nameRules:[function(e){return!!e||"Campo obligatorio"}],content:"",seguimiento:[],searchSeguimientos:"",filter:[],noGutters:!0,messages:[],dialog:!1,descargaAdjuntos:[]}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getSeguimientos();case 2:case"end":return t.stop()}}),t)})))()},methods:{filtrarSeguimiento:function(){var e=this,t=this.messages.filter((function(t){return t.observacion.toLowerCase().includes(e.searchSeguimientos.toLowerCase())}));this.filter=t||this.messages},listadoAdjuntos:function(e){for(var t in this.dialog=!0,this.descargaAdjuntos.splice(0),e){var a={id:e[t].cod_evento_seguimiento_adju,nombre:e[t].nombre_archivo,rutaFinal:e[t].ruta+"/"+e[t].nombre_archivo};this.descargaAdjuntos.push(a)}},descargarAdjunto:function(e){return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,o,r,n,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.rutaFinal,o=e.nombre,t.prev=2,t.next=5,V.getAdjunto({ruta:a,nombre:o});case 5:r=t.sent,200===r.status&&(n=r.data,i=window.URL.createObjectURL(new Blob([n])),s=document.createElement("a"),s.href=i,s.setAttribute("download",o),document.body.appendChild(s),s.click()),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})))()},getSeguimientos:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,o,r,n,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.$route.params.evento.cod_evento,t.prev=1,t.next=4,V.getSeguimiento({idEvento:a});case 4:if(o=t.sent,200===o.status)for(s in r=o.data.token,n=Object(H["a"])(r),i=n.seguimientos,e.messages.splice(0),i.seguimientos)e.messages.push(i.seguimientos[s]);t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()},guardarSeguimiento:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,o,r,n,i,s,l,c,d,u,v,p,m;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$refs.form.validate()){t.next=29;break}if(a=e.$route.params.evento.cod_evento,o=e.seguimiento.observacion,e.loading=!0,r=new FormData,n=0,e.seguimiento.adjuntos){i=Object(pt["a"])(e.seguimiento.adjuntos);try{for(i.s();!(s=i.n()).done;)l=s.value,r.append("files"+n,l,l.name),n++}catch(f){i.e(f)}finally{i.f()}}if(c=JSON.parse(localStorage.getItem("dataUser")),r.append("idUsuario",c.id),r.append("contador",n),r.append("idEvento",a),r.append("observacion",o),a){t.next=16;break}return e.$toasted.error("Ocurrio un erro al capturar el ID del evento.",{duration:4e3}),e.loading=!1,t.abrupt("return");case 16:return t.prev=16,t.next=19,V.setSeguimiento(r);case 19:if(d=t.sent,200===d.status){for(m in u=d.data.token,v=Object(H["a"])(u),p=v.seguimientos,e.messages.splice(0),p.seguimientos)e.messages.push(p.seguimientos[m]);e.$toasted.success("Se creo el seguimiento.",{duration:4e3}),e.seguimiento={}}else console.log(d);t.next=27;break;case 23:t.prev=23,t.t0=t["catch"](16),e.$toasted.error(t.t0.response.data.message,{duration:4e3}),console.log(t.t0);case 27:t.next=30;break;case 29:e.$toasted.error("Errores en el formulario.",{duration:4e3});case 30:e.loading=!1;case 31:case"end":return t.stop()}}),t,null,[[16,23]])})))()}},created:function(){this.filter=this.messages},computed:{}},ft=mt,bt=Object(v["a"])(ft,ut,vt,!1,null,null,null),ht=bt.exports,gt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("br"),a("br"),a("informesPorEvento")],1)},xt=[],kt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"chart"}},[a("v-container",{attrs:{fluid:"","grid-list-lg":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",lg6:""}},[a("v-card",{staticClass:"dark--text",attrs:{color:"white"}},[a("v-layout",[a("v-flex",{ref:"barchartDirectos",attrs:{xs12:""}})],1),a("v-divider",{attrs:{light:""}}),a("v-card-actions",{staticClass:"pa-3"},[e._v(" Costos Totales: "),a("v-spacer"),e._v(" $ "+e._s(e.totalActividadCosto)+" ")],1)],1)],1),a("v-flex",{attrs:{xs12:"",lg6:""}},[a("v-card",{staticClass:"dark--text",attrs:{color:"white"}},[a("v-layout",[a("v-flex",{ref:"barchartInDirectos",attrs:{xs12:""}})],1),a("v-divider",{attrs:{light:""}}),a("v-card-actions",{staticClass:"pa-3"},[e._v(" Costos Totales: "),a("v-spacer"),e._v(" $ "+e._s(e.totalRubroCosto)+" ")],1)],1)],1),a("v-flex",{attrs:{xs12:"",lg6:""}},[a("v-card",{staticClass:"dark--text",attrs:{color:"white"}},[a("v-layout",[a("v-flex",{ref:"piechartMaquinaria",attrs:{xs12:""}})],1),a("v-divider",{attrs:{light:""}}),a("v-card-actions",{staticClass:"pa-3"},[e._v(" Costos Totales: "),a("v-spacer"),e._v(" $ "+e._s(e.totalMaquinaria)+" ")],1)],1)],1),a("v-flex",{attrs:{xs12:"",lg6:""}},[a("v-card",{staticClass:"dark--text",attrs:{color:"white"}},[a("v-layout",[a("v-flex",{ref:"barchartPerdidaForestal",attrs:{xs12:""}})],1),a("v-divider",{attrs:{light:""}}),a("v-card-actions",{staticClass:"pa-3"},[e._v(" Porcentaje Total: "),a("v-spacer"),e._v(" % "+e._s(e.porcePerdidaForestal)+" ")],1)],1)],1),a("v-flex",{attrs:{xs12:"",lg6:""}},[a("v-card",{staticClass:"dark--text",attrs:{color:"white"}},[a("v-layout",[a("v-flex",{ref:"barchartValPerdidaForestal",attrs:{xs12:""}})],1),a("v-divider",{attrs:{light:""}}),a("v-card-actions",{staticClass:"pa-3"},[e._v(" Costos Totales: "),a("v-spacer"),e._v(" $ "+e._s(e.totalPerdidaForestal)+" ")],1)],1)],1),a("v-flex",{attrs:{xs12:"",lg6:""}},[a("v-card",{staticClass:"dark--text",attrs:{color:"white"}},[a("v-layout",[a("v-flex",{ref:"barchartPorcePerdidaEsti",attrs:{xs12:""}})],1),a("v-divider",{attrs:{light:""}}),a("v-card-actions",{staticClass:"pa-3"},[e._v(" Porcentaje Total: "),a("v-spacer"),e._v(" "+e._s(e.porcePerdidaEsti)+" ")],1)],1)],1)],1)],1)],1)},_t=[],wt=a("ba30"),Et=a.n(wt),yt={name:"informesPorEvento",data:function(){return{dataEvento:[],totalActividadCosto:0,totalRubroCosto:0,totalMaquinaria:0,porcePerdidaForestal:0,totalPerdidaForestal:0,porcePerdidaEsti:0,series:[{data:[]}],chartOptions:{chart:{type:"bar",height:350},plotOptions:{bar:{borderRadius:4,horizontal:!0}},dataLabels:{enabled:!0},xaxis:{categories:[]}}}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.setDataInformes();case 2:case"end":return t.stop()}}),t)})))()},created:function(){this.dataEvento=this.$route.params.evento},methods:{setDataInformes:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,o,r,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.dataEvento.cod_evento,t.prev=1,t.next=4,T.setDataInformesEvento({idEvento:a});case 4:o=t.sent,200===o.status&&(r=o.data.token,n=Object(H["a"])(r),i=n.dataInformes,console.log(i),e.costosDirectosPorActividad(i.costosDirectos),e.costosInDirectosPorRubro(i.costosInDirectos),e.costosInfraestructura(i.tipoInfraestructura),e.perdidaEconomicaForestal(i.perdidaEconomicaForestal),e.valPerdidaEconomica(i.valPerdidaEconomica),e.perdidaEstimadaProduccion(i.perdidaEstimadaProdu)),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()},costosDirectosPorActividad:function(e){var t=[],a=[],o=0;for(var r in e)t.push(parseFloat(e[r].gasto_incurrido)),a.push(e[r].actividad),o+=parseFloat(e[r].gasto_incurrido);this.totalActividadCosto=new Intl.NumberFormat("es-ES").format(o);var n=new Et.a(this.$refs.barchartDirectos,{title:{text:"Costos directos por actividad",align:"left",margin:10,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:"bold",fontFamily:void 0,color:"#263238"}},series:[{data:t}],chart:{type:"bar",height:300},grid:{xaxis:{lines:{show:!0}}},plotOptions:{bar:{borderRadius:4,horizontal:!0}},dataLabels:{enabled:!0},xaxis:{categories:a}});n.render()},costosInDirectosPorRubro:function(e){var t=[],a=[],o=0;for(var r in e)t.push(parseFloat(e[r].gasto_incurrido)),a.push(e[r].rubros),o+=parseFloat(e[r].gasto_incurrido);this.totalRubroCosto=new Intl.NumberFormat("es-ES").format(o);var n=new Et.a(this.$refs.barchartInDirectos,{title:{text:"Costos indirectos por rubro",align:"left",margin:10,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:"bold",fontFamily:void 0,color:"#263238"}},series:[{data:t}],chart:{type:"bar",height:300},grid:{xaxis:{lines:{show:!0}}},plotOptions:{bar:{borderRadius:4,horizontal:!0}},dataLabels:{enabled:!0},xaxis:{categories:a}});n.render()},costosInfraestructura:function(e){var t=[],a=["Vlr.Semilla","Vlr.Fertilizante","Vlr.Plaguicida","Vlr.Maquinaria"],o=0;for(var r in e){var n=parseFloat(e[r].vlr_semilla),i=parseFloat(e[r].vlr_fertilizante),s=parseFloat(e[r].vlr_plaguicida),l=parseFloat(e[r].vlr_maquinaria);t.push(n),t.push(i),t.push(s),t.push(l),o+=n+i+s+l}this.totalMaquinaria=new Intl.NumberFormat("es-ES").format(o);var c=new Et.a(this.$refs.piechartMaquinaria,{title:{text:"Costos por infraestructura",align:"left",margin:10,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:"bold",fontFamily:void 0,color:"#263238"}},series:t,chart:{type:"pie",height:300,toolbar:{show:!0}},labels:a});c.render()},perdidaEconomicaForestal:function(e){var t=[],a=[],o=0;for(var r in e)t.push(parseFloat(e[r].valor)),a.push(1*r+1),o+=parseFloat(e[r].valor);this.porcePerdidaForestal=new Intl.NumberFormat("es-ES").format(o);var n=new Et.a(this.$refs.barchartPerdidaForestal,{title:{text:"% Perdida plantación forestal",align:"left",margin:10,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:"bold",fontFamily:void 0,color:"#263238"}},series:[{data:t}],chart:{type:"bar",height:300},grid:{xaxis:{lines:{show:!0}}},plotOptions:{bar:{borderRadius:4,horizontal:!0}},dataLabels:{enabled:!0},xaxis:{categories:a}});n.render()},valPerdidaEconomica:function(e){var t=[],a=[],o=0;for(var r in e)t.push(parseFloat(e[r].valor)),a.push(1*r+1),o+=parseFloat(e[r].valor);this.totalPerdidaForestal=new Intl.NumberFormat("es-ES").format(o);var n=new Et.a(this.$refs.barchartValPerdidaForestal,{title:{text:"Valor perdida plantación forestal",align:"left",margin:10,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:"bold",fontFamily:void 0,color:"#263238"}},series:[{data:t}],chart:{type:"bar",height:300},grid:{xaxis:{lines:{show:!0}}},plotOptions:{bar:{borderRadius:4,horizontal:!0}},dataLabels:{enabled:!0},xaxis:{categories:a}});n.render()},perdidaEstimadaProduccion:function(e){var t=[],a=[],o=0;for(var r in e)parseFloat(e[r].valor)<0||(t.push(parseFloat(e[r].valor)),a.push(1*r+1),o+=parseFloat(e[r].valor));this.porcePerdidaEsti=o?"%"+new Intl.NumberFormat("es-ES").format(o):"No hay perdida";var n=new Et.a(this.$refs.barchartPorcePerdidaEsti,{title:{text:"% perdida estimada",align:"left",margin:10,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:"bold",fontFamily:void 0,color:"#263238"}},series:[{data:t}],chart:{type:"bar",height:300},grid:{xaxis:{lines:{show:!0}}},plotOptions:{bar:{borderRadius:4,horizontal:!0}},dataLabels:{enabled:!0},xaxis:{categories:a}});n.render()}}},Pt=yt,$t=Object(v["a"])(Pt,kt,_t,!1,null,null,null),Ct=$t.exports,St={components:{informesPorEvento:Ct},data:function(){return{}},methods:{}},At=St,jt=Object(v["a"])(At,gt,xt,!1,null,null,null),Dt=jt.exports;r["default"].use(O["a"]);var Ot=r["default"].prototype,Rt=[{path:"/inicio",name:"inicio",component:we},{path:"/home",name:"listadoEventos",component:Q},{path:"/newEvento",name:"nuevoEvento",component:rt},{path:"/newEvento/:evento",name:"actualizarEevento",component:rt},{path:"/updateUser",name:"editarUsuario",component:dt},{path:"/seguimiento/:evento",name:"seguimiento",props:!0,component:ht},{path:"/informesEvento/:evento",name:"informesEvento",props:!0,component:Dt},{path:"*",redirect:"/home"},{path:"/about",name:"About",component:function(){return a.e("about").then(a.bind(null,"f820"))}},{path:"/logout",name:"logout",component:{beforeRouteEnter:function(e,t,a){var o=Ot.$session.exists();o&&(Ot.$session.destroy(),a("/inicio"))}}}],Ft=new O["a"]({mode:"history",base:"/",routes:Rt});Ft.beforeEach((function(e,t,a){var o=Ot.$session.exists();if(o){var r=Ot.$session.get("id_rol");"admin"===e.name?[1,2].includes(r)?a():(Ot.$session.destroy(),a("/inicio")):a()}else console.log("not logged"),"map"===e.name||"paises"===e.name?a():"inicio"!==e.name?a("/inicio"):a()}));var Mt=Ft,It=a("2f62");r["default"].use(It["a"]);var zt=new It["a"].Store({state:{evento:{condJuridica:"",nombre:"",tiposDcto:"",dcto:"",dirRes:"",tel:"",sexo:"",fechaNac:"",gEtnico:"",tipoProd:"",relPre:"",tipoEv:"",subEv:"",sisProds:["3"],especies:[{faseProd:"",espAfectada:"",espExtractiva:"",nombre:"",objetivo:"",fecha:"",densHectarea:"",areaSembrada:"",menuFecha:!1}]}},mutations:{},actions:{},modules:{}}),qt=a("ce5b"),Nt=a.n(qt);a("bf40");r["default"].use(Nt.a);var Ut=new Nt.a({}),Lt=a("0628"),Vt=a.n(Lt),Tt=a("a65d"),Ht=a.n(Tt),Gt=a("1321"),Jt=a.n(Gt);r["default"].use(Jt.a),r["default"].component("apexchart",Jt.a),r["default"].use(Vt.a),r["default"].use(Ht.a),r["default"].config.productionTip=!1,q.a.defaults.headers.Accept="application/json",q.a.defaults.baseURL="http://localhost:4000/";var Xt=r["default"].prototype;function Yt(){return Wt.apply(this,arguments)}function Wt(){return Wt=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=Xt.$session.exists(),t&&(a=Xt.$session.get("token"),q.a.defaults.params={token:a});case 2:case"end":return e.stop()}}),e)}))),Wt.apply(this,arguments)}Yt(),new r["default"]({router:Mt,store:zt,vuetify:Ut,render:function(e){return e(j)}}).$mount("#app")},"5a06":function(e,t,a){},"791a":function(e,t,a){"use strict";a("54ad")},ae8f:function(e,t,a){},beb5:function(e,t,a){}});
//# sourceMappingURL=app.6a2804f7.js.map